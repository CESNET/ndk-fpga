<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RESET agent &mdash; Minimal NDK Application Docs 1.0 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> Minimal NDK Application Docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Application:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../app-minimal.html">Minimal NDK application</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Development Kit:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/intel/readme.html">NDK architecture (Intel FPGA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../build/readme.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/devtree.html">Device Tree</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supported cards:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/dk-dev-1sdx-p/readme.html">Stratix 10 DX FPGA Development Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/dk-dev-agi027res/readme.html">Agilex I-Series FPGA Development Kit</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VHDL components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../base.html">Basic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ctrls.html">Controllers &amp; TSU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mi.html">MI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mfb.html">MFB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mvb.html">MVB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nic.html">Network Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pcie.html">PCIe Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debug.html">Debug Tools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Minimal NDK Application Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>RESET agent</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/ofm_doc/comp/uvm/reset/readme.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="reset-agent">
<h1>RESET agent<a class="headerlink" href="#reset-agent" title="Permalink to this headline"></a></h1>
<p>This agent generate one bit signal which is never have undefined value. Primary use of this agent is generating reset signal in verification.</p>
<dl class="simple">
<dt>Package containt two major sequences.</dt><dd><p>sequence_simple - fist n random cicles generate reset and next m random cicles generates no reset. This pattern is repeating until end of simulation.
sequence_rand   - Reset randomly generated with some distribution. Reset is generate minimum for two cicle.</p>
</dd>
<dt>Connect reset signal with other components</dt><dd><p>In lot of protocols is required some oredered sequences of command to handle protocol. When reset is ocurre and sequences continues in middle of comunication protocol then DUT can end in inconsistend state. This is reason why reset have to be synchronized with some sequences.</p>
</dd>
</dl>
<p>For this purpose is in package three classes sync_cbs, sync_register and sync_terminate. Class sync_cbs and sync_register is for connect more class snyc_terminated together. For example in some smaller enviroment is two sequences which bot is required on reset. Then two class sync_terminated can be connected to class sync_register. Connect casses sync_* to reset agent is with function sync_connect.</p>
<p>Class sync_terminated contain taks is_reset(outpu logic ret). Which return value in variable ret if last clock cycle was reset set.</p>
<p>Example of connection</p>
<a class="reference internal image-reference" href="../../../../_images/reset.svg"><img alt="../../../../_images/reset.svg" class="align-center" src="../../../../_images/reset.svg" width="50%" /></a>
<div class="highlight-SystemVerilog notranslate"><div class="highlight"><pre><span></span><span class="c1">//connect reset syncrhonization object</span>
<span class="n">reset_agent</span><span class="p">.</span><span class="n">sync_connect</span><span class="p">(</span><span class="n">env</span><span class="p">.</span><span class="n">reset_sync</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-SystemVerilog notranslate"><div class="highlight"><pre><span></span><span class="c1">//example of processing in low lewer sequence</span>
<span class="k">task</span> <span class="n">send_transaction</span><span class="p">(</span><span class="n">byte_array</span> <span class="n">hl_tr</span><span class="p">);</span>
    <span class="k">int</span> <span class="k">unsigned</span> <span class="n">it</span> <span class="o">=</span> <span class="mh">0</span><span class="p">;</span>
    <span class="k">bit</span> <span class="n">reset</span> <span class="o">=</span> <span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">reset</span> <span class="o">!=</span> <span class="mh">1</span><span class="mb">&#39;b0</span> <span class="o">&amp;&amp;</span> <span class="n">it</span> <span class="o">&lt;</span>  <span class="n">hl_tr</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="k">begin</span>
        <span class="n">start_item</span><span class="p">(</span><span class="n">req</span><span class="p">);</span>
        <span class="n">req</span><span class="p">.</span><span class="n">randomize</span><span class="p">();</span>
        <span class="n">req</span><span class="p">.</span><span class="n">sof</span> <span class="o">=</span> <span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">;</span>
        <span class="n">req</span><span class="p">.</span><span class="n">eof</span> <span class="o">=</span> <span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">;</span>
        <span class="n">req</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">hl_tr</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">it</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">it</span> <span class="o">==</span> <span class="mh">0</span><span class="p">)</span> <span class="n">beign</span>
            <span class="n">req</span><span class="p">.</span><span class="n">sof</span> <span class="o">=</span> <span class="mh">1</span><span class="mb">&#39;b1</span><span class="p">;</span>
        <span class="k">end</span>
        <span class="n">it</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">it</span> <span class="o">==</span> <span class="n">hl_tr</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="k">begin</span>
            <span class="n">req</span><span class="p">.</span><span class="n">eof</span> <span class="o">=</span> <span class="mh">1</span><span class="mb">&#39;b1</span><span class="p">;</span>
        <span class="k">end</span>
        <span class="n">finish_item</span><span class="p">(</span><span class="n">req</span><span class="p">);</span>
        <span class="n">sync_reset</span><span class="p">.</span><span class="n">is_reset</span><span class="p">(</span><span class="n">reset</span><span class="p">);</span>
    <span class="k">end</span>
    <span class="c1">//send empty frame until reset is done</span>
    <span class="k">while</span><span class="p">(</span><span class="n">reset</span><span class="p">)</span> <span class="k">begin</span>
        <span class="n">start_item</span><span class="p">(</span><span class="n">req</span><span class="p">);</span>
        <span class="n">req</span><span class="p">.</span><span class="n">randomize</span><span class="p">();</span>
        <span class="n">req</span><span class="p">.</span><span class="n">sof</span> <span class="o">=</span> <span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">;</span>
        <span class="n">req</span><span class="p">.</span><span class="n">eof</span> <span class="o">=</span> <span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">;</span>
        <span class="n">finish_item</span><span class="p">(</span><span class="n">req</span><span class="p">);</span>
        <span class="n">sync_reset</span><span class="p">.</span><span class="n">is_reset</span><span class="p">(</span><span class="n">reset</span><span class="p">);</span>
    <span class="k">end</span>
<span class="k">endtask</span>
</pre></div>
</div>
<section id="simple-sychronous-reset-agents">
<h2>simple sychronous RESET agents<a class="headerlink" href="#simple-sychronous-reset-agents" title="Permalink to this headline"></a></h2>
<p>enviroment env#(RESETS) contain RESETS number of reset agents which generate synchronous reset for asynchronous clock domain. Synchronization mechanism is realy simple and cannot be used everyvhere.
All resets agent read one value which is change ones per specified time. Time is specified in class env_config_item#(RESETS) in variable driver_delay. User have to setup up time to two times maximum of slowest reset time multiple of slowest clock.
2*max(CLK[it]*RESET_TIME[it]). Enviroment work as agent. You can run any sequence on enviroment seqeuencer which can be ran on agent sequencer</p>
<p>Configuration is made by class env_config_item#(RESETS) where can be configuret three thing. Active/Pasive for all agents default is all active. Name of interface for all interface. High level driver delay.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, CESNET z.s.p.o..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
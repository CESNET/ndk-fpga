<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LII agent &mdash; Minimal NDK Application Docs 1.0 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> Minimal NDK Application Docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Application:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../app-minimal.html">Minimal NDK application</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Development Kit:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/intel/readme.html">NDK architecture (Intel FPGA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../build/readme.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/devtree.html">Device Tree</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supported cards:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/dk-dev-1sdx-p/readme.html">Stratix 10 DX FPGA Development Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/dk-dev-agi027res/readme.html">Agilex I-Series FPGA Development Kit</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VHDL components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../base.html">Basic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ctrls.html">Controllers &amp; TSU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mi.html">MI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mfb.html">MFB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mvb.html">MVB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nic.html">Network Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pcie.html">PCIe Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debug.html">Debug Tools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Minimal NDK Application Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>LII agent</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/ofm_doc/comp/uvm/lii_rx/readme.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="lii-agent">
<span id="uvm-mii"></span><h1>LII agent<a class="headerlink" href="#lii-agent" title="Permalink to this headline"></a></h1>
<p>Agent is used for connecting of all components (driver, monitor,…). Agent has his own configuration object which contains two parameters: active (when is up then agent is active in other way is passive) and interface which say name of the interface that is used.
When agent is active then sequencer and driver are created amd connected to interface. When is passive then only monitor is created.</p>
</section>
<section id="lii-interface">
<h1>LII interface<a class="headerlink" href="#lii-interface" title="Permalink to this headline"></a></h1>
<p>LII (Media-independent interface) bus is interface which allows communication throught 10g low latency ethernet. There are asserts which check if EEOF is asserted right and if SOF and EOF are coming in right ordder. Link for detailed description of LII bus is here: <a class="reference external" href="https://gitlab.liberouter.org/ndk/hft/-/tree/friedl-feat-ethphy/comp/eth_phy/10ge/top">https://gitlab.liberouter.org/ndk/hft/-/tree/friedl-feat-ethphy/comp/eth_phy/10ge/top</a></p>
<section id="lii-bus-description">
<h2>LII bus description<a class="headerlink" href="#lii-bus-description" title="Permalink to this headline"></a></h2>
<p>LII bus has these 5 ports + 2 ports optional (EEOF and EDB) which depends on parameter FAST_SOF. In verification interface are asserts which check these events.</p>
</section>
<section id="generics">
<h2>Generics<a class="headerlink" href="#generics" title="Permalink to this headline"></a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 11%" />
<col style="width: 10%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DATA_WIDTH</p></td>
<td><p>natural</p></td>
<td><p>32</p></td>
<td><p>Data word width in bits.</p></td>
</tr>
<tr class="row-odd"><td><p>FAST_SOF</p></td>
<td><p>natural</p></td>
<td><p>0</p></td>
<td><p>Fast SOF mode enable. Saves one cycle latency, but the logic is more complex</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ports">
<h2>Ports<a class="headerlink" href="#ports" title="Permalink to this headline"></a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 3%" />
<col style="width: 17%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Dir</p></th>
<th class="head"><p>Dimension</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DATA</p></td>
<td><p>IN</p></td>
<td><p>DATA_WIDTH</p></td>
<td><p>TX data. On the first data within an frame, only bit 31:8 are</p></td>
</tr>
<tr class="row-odd"><td><p>BYTES_VLD</p></td>
<td><p>IN</p></td>
<td><p>DATA_WIDTH</p></td>
<td><p>valid bytes in the the last word in range 0x1 to 0x4. Valid on EOF cycle</p></td>
</tr>
<tr class="row-even"><td><p>SOF</p></td>
<td><p>IN</p></td>
<td><p>1</p></td>
<td><p>Start of data frame, single clock cycle</p></td>
</tr>
<tr class="row-odd"><td><p>EOF</p></td>
<td><p>IN</p></td>
<td><p>1</p></td>
<td><p>End of data frame, single clock cycle</p></td>
</tr>
<tr class="row-even"><td><p>RDY</p></td>
<td><p>IN</p></td>
<td><p>1</p></td>
<td><p>TX data. On the first data within an frame, only bit 31:8 are</p></td>
</tr>
<tr class="row-odd"><td><p>EEOF</p></td>
<td><p>IN</p></td>
<td><p>1</p></td>
<td><p>Early end of data frame, single clock cycle pulse</p></td>
</tr>
<tr class="row-even"><td><p>EDB</p></td>
<td><p>IN</p></td>
<td><p>DATA_WIDTH</p></td>
<td><p>Early valid bytes</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="lii-sequence-item">
<h1>LII sequence item<a class="headerlink" href="#lii-sequence-item" title="Permalink to this headline"></a></h1>
<p>Sequence item contains basic ports from interface, except EEOF and EDB which are only drived to interface by driver. All signals which are in sequence item are randomized.
There are three methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">do_copy</span></code> is used for copying of the transaction.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">do_compare</span></code> is used for comparing data of two transactions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">convert2string</span></code> is used for printing whole transaction.</p></li>
</ul>
</section>
<section id="lii-monitor">
<h1>LII monitor<a class="headerlink" href="#lii-monitor" title="Permalink to this headline"></a></h1>
<p>LII monitor is used for monitoring of traffic. There is only easy monitor which write whole transaction to analysis port when reset is not asserted.</p>
</section>
<section id="lii-driver">
<h1>LII driver<a class="headerlink" href="#lii-driver" title="Permalink to this headline"></a></h1>
<p>LII driver is used for driving LII transactions to interface. There is used one parameter <code class="docutils literal notranslate"><span class="pre">FAST</span> <span class="pre">SOF</span></code>, when this parameter is asserted then driver driving <code class="docutils literal notranslate"><span class="pre">EEOF</span></code> and <code class="docutils literal notranslate"><span class="pre">EDB</span></code> to interface. <code class="docutils literal notranslate"><span class="pre">EEOF</span></code> and <code class="docutils literal notranslate"><span class="pre">EDB</span></code> is drived only when in the next transaction is asserted <code class="docutils literal notranslate"><span class="pre">EOF</span></code>, <code class="docutils literal notranslate"><span class="pre">EDB</span></code> must be same as <code class="docutils literal notranslate"><span class="pre">BYTES_VLD</span></code> in next transaction.</p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, CESNET z.s.p.o..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>


<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RX MAC LITE &mdash; NDK-FPGA Docs  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme_overrides.css?v=b530091d" />

  
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="TX MAC LITE" href="../tx_mac_lite/readme.html" />
    <link rel="prev" title="Network Tools" href="../../../../nic.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            NDK-FPGA Docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Application:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../app-minimal.html">Minimal NDK application</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Development Kit:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/how_to_start.html">How to start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/terminology.html">NDK Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/readme.html">NDK Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/configuration.html">Configuration files and parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/testing.html">NDK testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_build/readme.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/devtree.html">Device Tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/faq.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supported cards:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/reflexces/agi-fh400g/readme.html">ReflexCES XpressSX AGI-FH400G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/intel/dk-dev-1sdx-p/readme.html">Intel Stratix 10 DX FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/intel/dk-dev-agi027res/readme.html">Intel Agilex I-Series FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/silicom/fb4cgg3/readme.html">Silicom fb4CGg3&#64;VU9P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/silicom/fb2cghh/readme.html">Silicom fb2CGhh&#64;KU15P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/silicom/n6010/readme.html">Silicom N6010</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/bittware/ia-420f/readme.html">Bittware IA-420F</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/amd/alveo-u200/readme.html">AMD Alveo U200</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/amd/alveo-u55c/readme.html">AMD Alveo U55C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/amd/vcu118/readme.html">AMD VCU118&#64;VU9P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/prodesign/pd-falcon/readme.html">PRO DESIGN Falcon</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VHDL components:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../base.html">Basic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ctrls.html">Controllers &amp; TSU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mi.html">MI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mfb.html">MFB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mvb.html">MVB Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../nic.html">Network Tools</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">RX MAC LITE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#architecture">Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adapter">Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#register-map">Register Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ports-and-generics">Ports and Generics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tx_mac_lite/readme.html">TX MAC LITE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tx_mac_lite/comp/adapters/lbus/reconf/readme.html">MFB -&gt; LBUS reconfigurator (TX LBUS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../eth_phy/40ge/readme.html">40GE Ethernet PHY for Ultrascale+ FPGAs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pcie.html">PCIe Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../debug.html">Debug Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ver.html">UVM Verification</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">NDK-FPGA Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../nic.html">Network Tools</a></li>
      <li class="breadcrumb-item active">RX MAC LITE</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/comp/nic/mac_lite/rx_mac_lite/readme.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rx-mac-lite">
<span id="id1"></span><h1>RX MAC LITE<a class="headerlink" href="#rx-mac-lite" title="Link to this heading"></a></h1>
<p>This component is used to implement the Ethernet MAC layer on the receiving side.
Thanks to the modular architecture (RX MAC LITE + Adapter), it can be connected to a supported ETH Hard IP block or implement the MAC layer separately.
The implementation may include differences from the Ethernet standard.</p>
<section id="architecture">
<h2>Architecture<a class="headerlink" href="#architecture" title="Link to this heading"></a></h2>
<p>RX MAC LITE contains several components that analyze the received frame (CRC, MAC address, length) and check for errors. The Ethernet frame is stored in the buffer (store and forward), if it does not contain errors, it is sent to the output interface along with the metadata, otherwise the frame is discarded. Some of these components are optional. The whole module can be controlled by SW using MI registers (see chapter Register Map).</p>
<a class="reference internal image-reference" href="../../../../_images/rx_mac_lite_arch.svg"><img alt="../../../../_images/rx_mac_lite_arch.svg" class="align-center" src="../../../../_images/rx_mac_lite_arch.svg" style="width: 100%;" />
</a>
<p><strong>Description of RX MAC LITE submodules:</strong></p>
<ul class="simple">
<li><p><strong>CTRL Unit</strong> - controls the whole module through MI registers</p></li>
<li><p><strong>Enabler</strong> - enables the receiving of Ethernet frames, if disabled, incoming frames are discarded</p></li>
<li><p><strong>CRC Cutter</strong> - cuts the CRC of the received Ethernet frame (optional)</p></li>
<li><p><strong>Length Check</strong> - calculates and checks the length of the received Ethernet frame</p></li>
<li><p><strong>CRC Check</strong> - checks the CRC of the received Ethernet frame (optional, it is not available in OFM repository, extra license required))</p></li>
<li><p><strong>MAC Check</strong> - extracts and checks the MAC address of the received Ethernet frame (optional)</p></li>
<li><p><strong>Time Stamp</strong> - assigns a time stamp to the received Ethernet frame (optional)</p></li>
<li><p><strong>Error masking</strong> - allows to mask individual errors of the received Ethernet frame</p></li>
<li><p><strong>Buffer</strong> - store and forward buffer is used to store the received Ethernet frame</p></li>
<li><p><strong>Stats Unit</strong> - contains statistical counters accessible through MI registers</p></li>
</ul>
</section>
<section id="adapter">
<h2>Adapter<a class="headerlink" href="#adapter" title="Link to this heading"></a></h2>
<p>The adapter allows you to connect the RX MAC LITE to various variants of the PCS/PMA layer of the Ethernet or various Ethernet Hard IPs.
The main task of the adapter is to convert the selected input bus to the MFB bus.
Currently, several variants of the adapter are implemented:</p>
<ul class="simple">
<li><p><strong>UMII Adapter</strong> - connects Ethernet PCS/PMA layer with MII interface for various speeds (XGMII, XLGMII, CDGMII,…)</p></li>
<li><p><strong>CMAC Adapter</strong> - connects CMAC Hard IP, which is used in Xilinx UltraScale+ FPGA for 100 Gbps Ethernet (Uses MFB not LBUS!)</p></li>
<li><p><strong>AVST Adapter</strong> - connects E-Tile Hard IP, which is used in Intel Stratix 10 and Agilex FPGA for up to 100 Gbps Ethernet</p></li>
<li><p><strong>MAC Segmented Adapter (WIP)</strong> - connects F-Tile Hard IP, which is used in Intel Agilex FPGA for up to 400 Gbps Ethernet</p></li>
</ul>
</section>
<section id="register-map">
<h2>Register Map<a class="headerlink" href="#register-map" title="Link to this heading"></a></h2>
<p>It is possible to configure RX MAC LITE on the fly, but if you want to make changes atomically, you should disable RX MAC LITE first.
You can set MAC check mode, RX MAC LITE error mask, minimal and maximal frame length.
After you are done you can enable RX MAC LITE.
You can also write all valid MAC addresses into MAC memory, but the MAC memory can be accessed by software only when the RX MAC LITE is disabled!</p>
<p>You can read number of received, correct, discarded and discarded due to buffer overflow frames or number of correctly received bytes.
You have to sample the counters first and then you can read their content. RX MAC LITE has four frame counters:
Total Received Frames Counter (TRFC), Correct Frames Counter (CFC), Discarded Frames Counter (DFC) and Counter of Frames Discarded due to Buffer Overflow (BODFC) and the byte counter:
Octets Received OK Counter (OROC).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the RX MAC LITE unit is enabled, these counters will have a floating content.
For this reason, it is necessary to strobe their actual values at the one moment into the counter registers.
Software tool is then able to read those registers.</p>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Offset</p></th>
<th class="head"><p>Name of register</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0x00</p></td>
<td><p>Total Received Frames Counter - low part (TRFCL)</p></td>
</tr>
<tr class="row-odd"><td><p>0x04</p></td>
<td><p>Correct Frames Counter - low part (CFCL)</p></td>
</tr>
<tr class="row-even"><td><p>0x08</p></td>
<td><p>Discarded Frames Counter - low part (DFCL)</p></td>
</tr>
<tr class="row-odd"><td><p>0x0C</p></td>
<td><p>Counter of frames discarded due to buffer overflow - low part (BODFCL)</p></td>
</tr>
<tr class="row-even"><td><p>0x10</p></td>
<td><p>Total Received Frames Counter - high part (TRFCH)</p></td>
</tr>
<tr class="row-odd"><td><p>0x14</p></td>
<td><p>Correct Frames Counter - high part (CFCH)</p></td>
</tr>
<tr class="row-even"><td><p>0x18</p></td>
<td><p>Discarded Frames Counter - high part (DFCH)</p></td>
</tr>
<tr class="row-odd"><td><p>0x1C</p></td>
<td><p>Counter of frames discarded due to buffer overflow - high part (BODFCH)</p></td>
</tr>
<tr class="row-even"><td><p>0x20</p></td>
<td><p>Enable register</p></td>
</tr>
<tr class="row-odd"><td><p>0x24</p></td>
<td><p>Error mask register</p></td>
</tr>
<tr class="row-even"><td><p>0x28</p></td>
<td><p>Status register</p></td>
</tr>
<tr class="row-odd"><td><p>0x2C</p></td>
<td><p>Command register</p></td>
</tr>
<tr class="row-even"><td><p>0x30</p></td>
<td><p>Minimum frame length allowed</p></td>
</tr>
<tr class="row-odd"><td><p>0x34</p></td>
<td><p>Frame MTU</p></td>
</tr>
<tr class="row-even"><td><p>0x38</p></td>
<td><p>MAC address check mode</p></td>
</tr>
<tr class="row-odd"><td><p>0x3C</p></td>
<td><p>Octets Received OK Counter - low part (OROCL)</p></td>
</tr>
<tr class="row-even"><td><p>0x40</p></td>
<td><p>Octets Received OK Counter - high part (OROCH)</p></td>
</tr>
<tr class="row-odd"><td><p>0x80</p></td>
<td><p>Memory of available MAC addresses</p></td>
</tr>
</tbody>
</table>
<p><strong>Total Received Frames Counter - low part (TRFCL)</strong></p>
<p>This is the low part of counter that holds number of all arrived frames including those being received at the moment. (TRFC = CFC + DFC)</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>31</p></td>
<td><p>Counter value</p></td>
<td><p>R</p></td>
<td><p>Current counter value</p></td>
</tr>
</tbody>
</table>
<p><strong>Correct Frames Counter - low part (CFCL)</strong></p>
<p>This is the low part of counter that holds number of frames that passed sampling and all controls (was found to be correct) and are forwarded to the RX MAC LITE’s output. (CFC = TRFC - DFC)</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>31</p></td>
<td><p>Counter value</p></td>
<td><p>R</p></td>
<td><p>Current counter value</p></td>
</tr>
</tbody>
</table>
<p><strong>Discarded Frames Counter - low part (DFCL)</strong></p>
<p>This is the low part of counter that holds number of frames that did NOT pass sampling or any control (was found to be NOT correct) and are NOT forwarded to the RX MAC LITE’s output. (DFC = TRFC - CFC)</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>31</p></td>
<td><p>Counter value</p></td>
<td><p>R</p></td>
<td><p>Current counter value</p></td>
</tr>
</tbody>
</table>
<p><strong>Counter of frames discarded due to buffer overflow - low part (BODFCL)</strong></p>
<p>This is the low part of counter that holds number of frames that were discarded due to buffer overflow.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>31</p></td>
<td><p>Counter value</p></td>
<td><p>R</p></td>
<td><p>Current counter value</p></td>
</tr>
</tbody>
</table>
<p><strong>Total Received Frames Counter - high part (TRFCH)</strong></p>
<p>This is the high part of counter that holds number of all arrived frames including those being received at the moment. (TRFC = CFC + DFC)</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>31</p></td>
<td><p>Counter value</p></td>
<td><p>R</p></td>
<td><p>Current counter value</p></td>
</tr>
</tbody>
</table>
<p><strong>Correct Frames Counter - high part (CFCH)</strong></p>
<p>This is the high part of counter that holds number of frames that passed sampling and all controls (was found to be correct) and are forwarded to the RX MAC LITE’s output. (CFC = TRFC - DFC)</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>31</p></td>
<td><p>Counter value</p></td>
<td><p>R</p></td>
<td><p>Current counter value</p></td>
</tr>
</tbody>
</table>
<p><strong>Discarded Frames Counter - high part (DFCH)</strong></p>
<p>This is the high part of counter that holds number of frames that did NOT pass sampling or any control (was found to be NOT correct) and are NOT forwarded to the RX MAC LITE’s output. (DFC = TRFC - CFC)</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>31</p></td>
<td><p>Counter value</p></td>
<td><p>R</p></td>
<td><p>Current counter value</p></td>
</tr>
</tbody>
</table>
<p><strong>Counter of frames discarded due to buffer overflow - high part (BODFCH)</strong></p>
<p>This is the high part of counter that holds number of frames that were discarded due to buffer overflow.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>31</p></td>
<td><p>Counter value</p></td>
<td><p>R</p></td>
<td><p>Current counter value</p></td>
</tr>
</tbody>
</table>
<p><strong>Enable register</strong></p>
<p>The value stored in this register determines whether the RX MAC LITE unit is enabled or not.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>Enable</p></td>
<td><p>RW</p></td>
<td><p>Assert this bit to change the RX MAC LITE status to ‘enabled’. Clear this bit to change the RX MAC LITE status to ‘disabled’. As soon as the RX MAC LITE status is set to ‘enabled’ the RX MAC LITE unit starts working.</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>31</p></td>
<td><p>Reserved</p></td>
<td><p>R</p></td>
<td><p>Reserved bits.</p></td>
</tr>
</tbody>
</table>
<p><strong>Error mask register</strong></p>
<p>This register specifies which controls will be done over incoming frames. The value stored in this register determines which kinds of errors cause the frame discarding.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>ADAPTER_ERROR</p></td>
<td><p>RW</p></td>
<td><p>This bit signals whether the error notified by adapter will cause the frame discarding. Assert this bit to allow frame discarding. Clear this bit to mask this error.</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>CRC_ERROR</p></td>
<td><p>RW</p></td>
<td><p>This bit signals whether the CRC check error will cause the frame discarding. Assert this bit to allow frame discarding. Clear this bit to mask this error.</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>2</p></td>
<td><p>MINTU_CHECK</p></td>
<td><p>RW</p></td>
<td><p>This bit enables the minimum frame length check. If the incoming frame length is less than the RX MAC LITE minimum frame length register, the frame will be discarded.</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>3</p></td>
<td><p>MTU_CHECK</p></td>
<td><p>RW</p></td>
<td><p>This bit enables the MTU frame length check. If the incoming frame length is greater than the RX MAC LITE frame MTU register, the frame will be discarded.</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>4</p></td>
<td><p>MAC_CHECK</p></td>
<td><p>RW</p></td>
<td><p>This bit enables the frame MAC address check. If the incoming frame destination MAC address doesn’t pass the control, the frame will be discarded.</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>31</p></td>
<td><p>Reserved</p></td>
<td><p>R</p></td>
<td><p>Reserved bits.</p></td>
</tr>
</tbody>
</table>
<p><strong>Status register</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>MFIFO_OVF</p></td>
<td><p>RW</p></td>
<td><p>This bit is asserted in case the MFIFO (frame metadata) overflow has occured. Bit reset is performed by writing operation.</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>DFIFO_OVF</p></td>
<td><p>RW</p></td>
<td><p>This bit is asserted in case the DFIFO (frame data) overflow has occured. Bit reset is performed by writing operation.</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>3</p></td>
<td><p>DEBUG</p></td>
<td><p>RW</p></td>
<td><p>Reserved (tied to zero).</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>6</p></td>
<td><p>Obsolete</p></td>
<td><p>R</p></td>
<td><p>Ignore these bits.</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>7</p></td>
<td><p>Link Status</p></td>
<td><p>R</p></td>
<td><p>Information about the link status (0=no link, 1=link ok).</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>21</p></td>
<td><p>Reserved</p></td>
<td><p>R</p></td>
<td><p>Reserved bits.</p></td>
</tr>
<tr class="row-even"><td><p>22</p></td>
<td><p>22</p></td>
<td><p>INBANDFCS</p></td>
<td><p>R</p></td>
<td><p>FCS field removing flag (0 → FCS is removed, 1 → FSC isn’t removed).</p></td>
</tr>
<tr class="row-odd"><td><p>23</p></td>
<td><p>27</p></td>
<td><p>MAC_COUNT</p></td>
<td><p>R</p></td>
<td><p>Number of MAC addresses that can be placed into CAM (at most 16).</p></td>
</tr>
<tr class="row-even"><td><p>28</p></td>
<td><p>31</p></td>
<td><p>Reserved</p></td>
<td><p>R</p></td>
<td><p>Reserved bits.</p></td>
</tr>
</tbody>
</table>
<p><strong>Command register</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>7</p></td>
<td><p>Command</p></td>
<td><p>W</p></td>
<td><p>Write a command into this register.</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>31</p></td>
<td><p>Reserved</p></td>
<td><p>R</p></td>
<td><p>Reserved bits.</p></td>
</tr>
</tbody>
</table>
<p>Command definition:</p>
<ul class="simple">
<li><p>0x01 - CMD STROBE COUNTERS: Writing this constant into the command register will cause that the current frame counters’ values will be stored into the frame counter registers at the same moment.</p></li>
<li><p>0x02 - CMD RESET COUNTERS: Writing this constant into the command register will cause that the frame counters will be reset.</p></li>
<li><p>0x03 - CMD SWITCH ADDRESS SPACE: Switch the output address space (more information here TODO RFC COUNTERS link)</p></li>
</ul>
<p><strong>Minimum frame length allowed</strong></p>
<p>This register specifies the minimal frame length allowed (MINTU). The frame length includes the length of Ethernet frame including FCS - according to the XGMII specification it is the length of &lt;data&gt; part of XGMII data stream without IFG, preamble, SFD or EFD. Default value is 64.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>15</p></td>
<td><p>Min. length</p></td>
<td><p>RW</p></td>
<td><p>The minimal frame length allowed.</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>31</p></td>
<td><p>Reserved</p></td>
<td><p>R</p></td>
<td><p>Reserved bits.</p></td>
</tr>
</tbody>
</table>
<p><strong>Maximum frame length allowed</strong></p>
<p>This register specifies the maximal frame length allowed (MTU). The frame length includes the length of Ethernet frame including FCS - according to the XGMII specification it is the length of &lt;data&gt; part of XGMII data stream without IFG, preamble, SFD or EFD. Default value is 64. Default value is 1526.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>15</p></td>
<td><p>Max. length</p></td>
<td><p>RW</p></td>
<td><p>The maximal frame length allowed.</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>31</p></td>
<td><p>Reserved</p></td>
<td><p>R</p></td>
<td><p>Reserved bits.</p></td>
</tr>
</tbody>
</table>
<p><strong>MAC address check mode</strong></p>
<p>This register specifies the mode of MAC address checking.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>Check mode</p></td>
<td><p>RW</p></td>
<td><p>The MAC address checking mode.</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>31</p></td>
<td><p>Reserved</p></td>
<td><p>R</p></td>
<td><p>Reserved bits.</p></td>
</tr>
</tbody>
</table>
<p>MAC address checking mode definition:</p>
<ul class="simple">
<li><p>0x00 - MODE 0: All MACs can pass (promiscuous mode).</p></li>
<li><p>0x01 - MODE 1: Only frames with valid MAC addresses can pass (see MAC memory).</p></li>
<li><p>0x02 - MODE 2: MODE 1 + All brodcast frames can pass.</p></li>
<li><p>0x03 - MODE 3: MODE 2 + All multicast frames can pass.</p></li>
</ul>
<p><strong>Octets Received OK Counter - low part (OROCL)</strong></p>
<p>This is the low part of counter that holds number of data octets in frames that were successfully received. This does not include octets in frames received with MAC, CRC, MINTU, MTU, CRC or CGMII errors according the settings of Error mask register. This counter is incremented when a new packet is successfully received and the length of the currently received packet is added. The counted length of the packets always includes the length of CRC and vice versa.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>31</p></td>
<td><p>Counter value</p></td>
<td><p>R</p></td>
<td><p>Current counter value</p></td>
</tr>
</tbody>
</table>
<p><strong>Octets Received OK Counter - high part (OROCH)</strong></p>
<p>This is the high part of counter that holds number of data octets in frames that were successfully received. This does not include octets in frames received with MAC, CRC, MINTU, MTU, CRC or CGMII errors according the settings of Error mask register. This counter is incremented when a new packet is successfully received and the length of the currently received packet is added. The counted length of the packets always includes the length of CRC and vice versa.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>31</p></td>
<td><p>Counter value</p></td>
<td><p>R</p></td>
<td><p>Current counter value</p></td>
</tr>
</tbody>
</table>
<p><strong>Memory of available MAC addresses</strong></p>
<p>This memory contains all available MAC addresses for network interface.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>47</p></td>
<td><p>MAC address</p></td>
<td><p>RW</p></td>
<td><p>The MAC address.</p></td>
</tr>
<tr class="row-odd"><td><p>48</p></td>
<td><p>48</p></td>
<td><p>Valid bit</p></td>
<td><p>RW</p></td>
<td><p>MAC address is valid when asserted.</p></td>
</tr>
</tbody>
</table>
<p>To write the MAC address item properly you must first write low 32 bits and then high 16 bits.
If you would not do it right way the MAC have not been written.
Memory can contains up to 16 MAC addresses (it depends on MAC_COUNT generic).
Each MAC address is stored on two address positions.
The lower address contains the lower 4 bytes and the upper contains the 2 upper bytes and valid bit.
Only valid MAC addresses are used for matching.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The MAC memory can be accessed by software only when the RX MAC LITE is disabled!</p>
</div>
</section>
<section id="ports-and-generics">
<h2>Ports and Generics<a class="headerlink" href="#ports-and-generics" title="Link to this heading"></a></h2>
<dl class="vhdl autoentity">
<dt class="sig sig-object vhdl" id="vhdl-entity-rx_mac_lite">
<span class="k"><span class="pre">ENTITY</span> </span><span class="sig-name descname"><span class="pre">RX_MAC_LITE</span></span><span class="k"> <span class="pre">IS</span></span><a class="headerlink" href="#vhdl-entity-rx_mac_lite" title="Link to this definition"></a></dt>
<dd><span class="sig-name descname">Generics</span><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Generic</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>=====</p></td>
<td><p>MFB CONFIGURATION:</p></td>
<td><p>=====</p></td>
<td><p>RX MFB configuration, allows you to set the required data width
according to the selected Ethernet standard.</p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-rx_mac_lite-rx_regions"><td><p>RX_REGIONS</p></td>
<td><p>natural</p></td>
<td><p>4</p></td>
<td><p>RX MFB: number of regions in word, must be power of 2</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-rx_mac_lite-rx_region_size"><td><p>RX_REGION_SIZE</p></td>
<td><p>natural</p></td>
<td><p>8</p></td>
<td><p>RX MFB: number of blocks in region, must be power of 2</p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-rx_mac_lite-rx_block_size"><td><p>RX_BLOCK_SIZE</p></td>
<td><p>natural</p></td>
<td><p>8</p></td>
<td><p>RX MFB: number of items in block, must be &gt;= 4 and power of 2</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-rx_mac_lite-rx_item_width"><td><p>RX_ITEM_WIDTH</p></td>
<td><p>natural</p></td>
<td><p>8</p></td>
<td><p>RX MFB: width of one item in bits, must be 8</p></td>
</tr>
<tr class="row-odd"><td><p>=====</p></td>
<td><p>TX MFB configuration, by default the same as RX. Useful, for example,</p></td>
<td><p>=====</p></td>
<td><p>for enlargement data width from 128b (RX) to 512b (TX).</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-rx_mac_lite-tx_regions"><td><p>TX_REGIONS</p></td>
<td><p>natural</p></td>
<td><p>RX_REGIONS</p></td>
<td><p>TX MFB: number of regions in word, by default same as RX</p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-rx_mac_lite-tx_region_size"><td><p>TX_REGION_SIZE</p></td>
<td><p>natural</p></td>
<td><p>RX_REGION_SIZE</p></td>
<td><p>TX MFB: number of blocks in region, by default same as RX</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-rx_mac_lite-tx_block_size"><td><p>TX_BLOCK_SIZE</p></td>
<td><p>natural</p></td>
<td><p>RX_BLOCK_SIZE</p></td>
<td><p>TX MFB: number of items in block, by default same as RX</p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-rx_mac_lite-tx_item_width"><td><p>TX_ITEM_WIDTH</p></td>
<td><p>natural</p></td>
<td><p>RX_ITEM_WIDTH</p></td>
<td><p>TX MFB: width of one item in bits, by default same as RX</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-rx_mac_lite-resize_buffer"><td><p>RESIZE_BUFFER</p></td>
<td><p>boolean</p></td>
<td><p>false</p></td>
<td><p>If true, the MFB bus doubles data width (number of regions) before
the packet buffer (on RX_CLK). RESIZE_BUFFER feature is allowed only
when the MFB bus increases (TX MFB width &gt;= 2x RX MFB width) and the
following conditions must apply: RX_BLOCK_SIZE=TX_BLOCK_SIZE, RX_ITEM_WIDTH=TX_ITEM_WIDTH</p></td>
</tr>
<tr class="row-odd"><td><p>=====</p></td>
<td><p>OTHERS CONFIGURATION:</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-rx_mac_lite-network_port_id"><td><p>NETWORK_PORT_ID</p></td>
<td><p>natural</p></td>
<td><p>0</p></td>
<td><p>ID of this network port, it is inserted into the packet metadata.</p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-rx_mac_lite-pkt_mtu_bytes"><td><p>PKT_MTU_BYTES</p></td>
<td><p>natural</p></td>
<td><p>16384</p></td>
<td><p>Maximum allowed size of packet in bytes.</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-rx_mac_lite-crc_is_received"><td><p>CRC_IS_RECEIVED</p></td>
<td><p>boolean</p></td>
<td><p>true</p></td>
<td><p>Set true when CRC is part of frames in RX MFB bus.</p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-rx_mac_lite-crc_check_en"><td><p>CRC_CHECK_EN</p></td>
<td><p>boolean</p></td>
<td><p>true</p></td>
<td><p>Enable of CRC checking, CRC_IS_RECEIVED must be true.
When is disable, resources are ~60% lower.</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-rx_mac_lite-crc_remove_en"><td><p>CRC_REMOVE_EN</p></td>
<td><p>boolean</p></td>
<td><p>true</p></td>
<td><p>Enable of CRC removing, CRC_IS_RECEIVED must be true.</p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-rx_mac_lite-mac_check_en"><td><p>MAC_CHECK_EN</p></td>
<td><p>boolean</p></td>
<td><p>true</p></td>
<td><p>Enable of MAC checking.</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-rx_mac_lite-mac_count"><td><p>MAC_COUNT</p></td>
<td><p>natural</p></td>
<td><p>4</p></td>
<td><p>Number of maximum MAC address in CAM memory, maximum value is 16.</p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-rx_mac_lite-timestamp_en"><td><p>TIMESTAMP_EN</p></td>
<td><p>boolean</p></td>
<td><p>true</p></td>
<td><p>Enable of timestamping frames.</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-rx_mac_lite-device"><td><p>DEVICE</p></td>
<td><p>string</p></td>
<td><p>“STRATIX10”</p></td>
<td><p>Select correct FPGA device.
ULTRASCALE</p></td>
</tr>
</tbody>
</table>
<span class="sig-name descname">Ports</span><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Mode</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>=====</p></td>
<td><p>CLOCK AND RESET</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-rx_clk"><td><p>RX_CLK</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>Clock for RX MFB interface</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-rx_reset"><td><p>RX_RESET</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>Reset synchronized with RX_CLK</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-tx_clk"><td><p>TX_CLK</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>Clock for TX MFB interface</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-tx_reset"><td><p>TX_RESET</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>Reset synchronized with TX_CLK</p></td>
</tr>
<tr class="row-odd"><td><p>=====</p></td>
<td><p>RX MAC LITE ADAPTER INTERFACES</p></td>
<td><p>=====</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-rx_mfb_data"><td><p>RX_MFB_DATA</p></td>
<td><p>std_logic_vector(RX_REGIONS*RX_REGION_SIZE*RX_BLOCK_SIZE*RX_ITEM_WIDTH-1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>RX MFB: data word with frames (packets)</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-rx_mfb_sof_pos"><td><p>RX_MFB_SOF_POS</p></td>
<td><p>std_logic_vector(RX_REGIONS*max(1,log2(RX_REGION_SIZE))-1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>RX MFB: Start Of Frame (SOF) flag for each MFB region</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-rx_mfb_eof_pos"><td><p>RX_MFB_EOF_POS</p></td>
<td><p>std_logic_vector(RX_REGIONS*max(1,log2(RX_REGION_SIZE*RX_BLOCK_SIZE))-1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>RX MFB: End Of Frame (EOF) flag for each MFB region</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-rx_mfb_sof"><td><p>RX_MFB_SOF</p></td>
<td><p>std_logic_vector(RX_REGIONS-1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>RX MFB: SOF position for each MFB region in MFB blocks</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-rx_mfb_eof"><td><p>RX_MFB_EOF</p></td>
<td><p>std_logic_vector(RX_REGIONS-1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>RX MFB: EOF position for each MFB region in MFB items</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-rx_mfb_error"><td><p>RX_MFB_ERROR</p></td>
<td><p>std_logic_vector(RX_REGIONS-1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>RX MFB: Error flag for each MFB region, valid with EOF</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-rx_mfb_src_rdy"><td><p>RX_MFB_SRC_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>RX MFB: source ready of each MFB bus, don’t support gaps inside frame!</p></td>
</tr>
<tr class="row-odd"><td><p>=====</p></td>
<td><p>RX STATUS INTERFACE</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-adapter_link_up"><td><p>ADAPTER_LINK_UP</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>Link Up flag input, active when link is up</p></td>
</tr>
<tr class="row-odd"><td><p>=====</p></td>
<td><p>INPUT TIMESTAMP INTERFACE (FROM TSU)</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-tsu_ts_ns"><td><p>TSU_TS_NS</p></td>
<td><p>std_logic_vector(64-1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>Timestamp in nanosecond (new) format, more info in TSU.</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-tsu_ts_dv"><td><p>TSU_TS_DV</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>Valid flag of timestamp.</p></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>TX INTERFACES</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-tx_mfb_data"><td><p>TX_MFB_DATA</p></td>
<td><p>std_logic_vector(TX_REGIONS*TX_REGION_SIZE*TX_BLOCK_SIZE*TX_ITEM_WIDTH-1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>TX MFB: data word with frames (packets)</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-tx_mfb_sof_pos"><td><p>TX_MFB_SOF_POS</p></td>
<td><p>std_logic_vector(TX_REGIONS*max(1,log2(TX_REGION_SIZE))-1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>TX MFB: Start Of Frame (SOF) flag for each MFB region</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-tx_mfb_eof_pos"><td><p>TX_MFB_EOF_POS</p></td>
<td><p>std_logic_vector(TX_REGIONS*max(1,log2(TX_REGION_SIZE*TX_BLOCK_SIZE))-1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>TX MFB: End Of Frame (EOF) flag for each MFB region</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-tx_mfb_sof"><td><p>TX_MFB_SOF</p></td>
<td><p>std_logic_vector(TX_REGIONS-1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>TX MFB: SOF position for each MFB region in MFB blocks</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-tx_mfb_eof"><td><p>TX_MFB_EOF</p></td>
<td><p>std_logic_vector(TX_REGIONS-1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>TX MFB: EOF position for each MFB region in MFB items</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-tx_mfb_src_rdy"><td><p>TX_MFB_SRC_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td><p>TX MFB: source ready of each MFB bus</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-tx_mfb_dst_rdy"><td><p>TX_MFB_DST_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>TX MFB: destination ready of each MFB bus</p></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>TX MVB METADATA INTERFACE</p></td>
<td><p>=====</p></td>
<td><p>Metadata MVB bus is valid for each transmitted frame (EOF) from this
module. Description of DATA bits are in eth_hdr_pack package.</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-tx_mvb_data"><td><p>TX_MVB_DATA</p></td>
<td><p>std_logic_vector(TX_REGIONS*ETH_RX_HDR_WIDTH-1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>TX MVB: data word with MVB items. Description of DATA bits are in eth_hdr_pack package.</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-tx_mvb_vld"><td><p>TX_MVB_VLD</p></td>
<td><p>std_logic_vector(TX_REGIONS-1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>TX MVB: valid of each MVB item. There is one item for each packet on the TX MFB.</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-tx_mvb_src_rdy"><td><p>TX_MVB_SRC_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td><p>TX MVB: source ready of each MVB bus</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-tx_mvb_dst_rdy"><td><p>TX_MVB_DST_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>TX MVB: destination ready of each MVB bus</p></td>
</tr>
<tr class="row-odd"><td><p>=====</p></td>
<td><p>OUTPUT LINK STATUS INTERFACE</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-link_up"><td><p>LINK_UP</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td><p>Active when link is up</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-incoming_frame"><td><p>INCOMING_FRAME</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td><p>Active while receiving a frame</p></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>MI32 INTERFACE</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-mi_clk"><td><p>MI_CLK</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>Clock for MI bus</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-mi_reset"><td><p>MI_RESET</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>Reset synchronized with MI_CLK</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-mi_dwr"><td><p>MI_DWR</p></td>
<td><p>std_logic_vector(32-1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>MI bus: data from master to slave (write data)</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-mi_addr"><td><p>MI_ADDR</p></td>
<td><p>std_logic_vector(32-1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>MI bus: slave address</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-mi_rd"><td><p>MI_RD</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>MI bus: byte enable</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-mi_wr"><td><p>MI_WR</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>MI bus: read request</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-mi_be"><td><p>MI_BE</p></td>
<td><p>std_logic_vector(4-1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>MI bus: write request</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-mi_drd"><td><p>MI_DRD</p></td>
<td><p>std_logic_vector(32-1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>MI bus: ready of slave module</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-rx_mac_lite-mi_ardy"><td><p>MI_ARDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td><p>MI bus: data from slave to master (read data)</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-rx_mac_lite-mi_drdy"><td><p>MI_DRDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td><p>MI bus: valid of MI_DRD data signal</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../../../nic.html" class="btn btn-neutral float-left" title="Network Tools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../tx_mac_lite/readme.html" class="btn btn-neutral float-right" title="TX MAC LITE" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, CESNET z.s.p.o..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
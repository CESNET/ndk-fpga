

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MI agent &mdash; NDK-FPGA Docs  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme_overrides.css?v=b530091d" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="PMA agent" href="../pma/readme.html" />
    <link rel="prev" title="MFB Agent" href="../mfb/readme.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            NDK-FPGA Docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Application:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../app-minimal.html">Minimal NDK application</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Development Kit:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_core/doc/how_to_start.html">How to start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_core/doc/terminology.html">NDK Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_core/doc/readme.html">NDK Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_core/doc/configuration.html">Configuration files and parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_core/doc/testing.html">NDK testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_build/readme.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_core/doc/devtree.html">Device Tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_core/doc/faq.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supported cards:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_cards/reflexces/agi-fh400g/readme.html">ReflexCES XpressSX AGI-FH400G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_cards/intel/dk-dev-1sdx-p/readme.html">Intel Stratix 10 DX FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_cards/intel/dk-dev-agi027res/readme.html">Intel Agilex I-Series FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_cards/silicom/fb4cgg3/readme.html">Silicom fb4CGg3&#64;VU9P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_cards/silicom/fb2cghh/readme.html">Silicom fb2CGhh&#64;KU15P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_cards/silicom/n6010/readme.html">Silicom N6010</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_cards/bittware/ia-420f/readme.html">Bittware IA-420F</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_cards/amd/alveo-u200/readme.html">AMD Alveo U200</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_cards/amd/alveo-u55c/readme.html">AMD Alveo U55C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_cards/amd/vcu118/readme.html">AMD VCU118&#64;VU9P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ndk_cards/prodesign/pd-falcon/readme.html">PRO DESIGN Falcon</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VHDL components:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../base.html">Basic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ctrls.html">Controllers &amp; TSU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mi.html">MI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mfb.html">MFB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mvb.html">MVB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nic.html">Network Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pcie.html">PCIe Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debug.html">Debug Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../ver.html">UVM Verification</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../manual.html">SystemVerilog and UVM tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sim_manual.html">UVM simulation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../componets.html">Components</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../reset/readme.html">RESET agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logic_vector/readme.html">Logic vector agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logic_vector_mvb/readme.html">logic_vector_mvb environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logic_vector_array/readme.html">Logic Vector Array agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logic_vector_array_mfb/readme.html">logic_vector_array_mfb environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../byte_array/readme.html">Byte Array agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../byte_array_mfb/readme.html">Byte_array_mfb environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logic_vector_array_intel_mac_seg/readme.html">byte array to MAC SEG</a></li>
<li class="toctree-l3"><a class="reference internal" href="../byte_array_pma/readme.html">Byte array to pma convert enviroment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../byte_array_mii/readme.html">Byte array to MII transitional environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../byte_array_lii/readme.html">Byte Array to LII convert enviroment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../byte_array_lii_rx/readme.html">Byte Array to LII convert enviroment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../common/readme.html">Common package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lii/readme.html">LII agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lii_rx/readme.html">LII agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lii_rx/readme.html#lii-interface">LII interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lii_rx/readme.html#lii-sequence-item">LII sequence item</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lii_rx/readme.html#lii-monitor">LII monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lii_rx/readme.html#lii-driver">LII driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mvb/readme.html">MVB agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mfb/readme.html">MFB Agent</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">MI agent</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sequence-item">Sequence_item</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pma/readme.html">PMA agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intel_mac_seg/readme.html">Intel MAC SEG</a></li>
<li class="toctree-l3"><a class="reference internal" href="../axi/readme.html">AXI Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logic_vector_array_axi/readme.html">logic_vector_array_axi environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../packet_generators/flowtest/readme.html">FlowTest Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../avmm/readme.html">AVMM Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../avst_crdt/readme.html">AVST CRDT Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../probe/readme.html">probe agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lbus/readme.html">LBUS Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logic_vector_array_lbus/readme.html">LOGIC VECTOR ARRAY LBUS Environment</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">NDK-FPGA Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../ver.html">UVM Verification</a></li>
          <li class="breadcrumb-item"><a href="../componets.html">Components</a></li>
      <li class="breadcrumb-item active">MI agent</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/comp/uvm/mi/readme.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mi-agent">
<span id="uvm-mi"></span><h1>MI agent<a class="headerlink" href="#mi-agent" title="Link to this heading"></a></h1>
<p>This package contains two UVM verification agents which generate transactions to the :ref:MI&lt;mi_bus&gt; interface. The slave agent is connected to the slave DUT port but acts as the master of this communication (the slave agent generates the requests for the DUT). The master agent is connected to the master DUT port but acts as the slave of this communication (it accepts the requests from the DUT).
Both agents have three class parameters. <code class="docutils literal notranslate"><span class="pre">DATA_WIDTH</span></code> , <code class="docutils literal notranslate"><span class="pre">ADDR_WIDTH</span></code> and <code class="docutils literal notranslate"><span class="pre">META_WIDTH</span></code>. <code class="docutils literal notranslate"><span class="pre">META_WIDTH</span></code> has default value set to 0.</p>
<a class="reference internal image-reference" href="../../../_images/MI_agent.svg"><img alt="../../../_images/MI_agent.svg" class="align-center" src="../../../_images/MI_agent.svg" style="width: 50%;" />
</a>
<section id="sequence-item">
<h2>Sequence_item<a class="headerlink" href="#sequence-item" title="Link to this heading"></a></h2>
<p>There are two sequence items. The sequence_item_request is for generating requests, and the sequence_item_response is for responses.</p>
<p>Sequence_item_request</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Random</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>addr</p></td>
<td><p>yes</p></td>
<td><p>Requested address. Variable is the logic vector width <code class="docutils literal notranslate"><span class="pre">ADDR_WIDTH</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>meta</p></td>
<td><p>yes</p></td>
<td><p>Metadata. Variable is the logic vector width <code class="docutils literal notranslate"><span class="pre">META_WIDTH</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>be</p></td>
<td><p>yes</p></td>
<td><p>Byte enable for reading or writing data. Variable is the logic vector width <code class="docutils literal notranslate"><span class="pre">DATA_WIDTH/8</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>wr</p></td>
<td><p>yes</p></td>
<td><p>Write request. It cannot be asserted when signal rd is asserted.</p></td>
</tr>
<tr class="row-even"><td><p>dwr</p></td>
<td><p>yes</p></td>
<td><p>Written data. Variable is the logic vector width <code class="docutils literal notranslate"><span class="pre">DATA_WIDTH</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>rd</p></td>
<td><p>yes</p></td>
<td><p>Read request. It cannot be asserted when signal wr is asserted.</p></td>
</tr>
<tr class="row-even"><td><p>ardy</p></td>
<td><p>no</p></td>
<td><p>Driver sends a response in this signal if the request has been accepted DUT.</p></td>
</tr>
</tbody>
</table>
<p>Sequence_item_response</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Random</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>drd</p></td>
<td><p>yes</p></td>
<td><p>Responded data. Variable is the logic vector width <code class="docutils literal notranslate"><span class="pre">DATA_WIDTH</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>drdy</p></td>
<td><p>yes</p></td>
<td><p>Assert when variable drd is valid.</p></td>
</tr>
<tr class="row-even"><td><p>ardy</p></td>
<td><p>yes</p></td>
<td><p>Acception of the request.</p></td>
</tr>
</tbody>
</table>
<p>The slave agent uses only the sequence_item_request with the extension of ardy, which is set to 1 when the DUT accepts a request.
The master agent uses two sequence items: sequence_item_request and sequence_item_response.
When a response is generated and sent to the DUT, the driver responds with a sequence_item_request.
The master driver cannot reply at the same clock cycle as the response.
This creates a hole in the functional verification which should be fixed in the future.
But it made communication protocol more complicated and depended on the clock.
Currently, the communication between master_driver and master_sequence works like this.
First, the master_driver sends a request to the master_sequence to get an “invalid” response that is not sent to the DUT, it just starts off the communication between them.
The sequence replies with a request that is actually the first response for the DUT MI master.
This means that a response must be sent to the driver before the request is known.
This would be improved in future.</p>
<p>There are six prepared sequences for the slave agent.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sequence_slave</p></td>
<td><p>generate random 10-200 MI transactions</p></td>
</tr>
<tr class="row-odd"><td><p>sequence_slave_same_addr</p></td>
<td><p>generate random 10-200 MI transactions to random addresses</p></td>
</tr>
<tr class="row-even"><td><p>sequence_slave_incr_addr</p></td>
<td><p>generate random 10-200 MI transactions. Every transaction is to a different address. When the sequence is randomized, then the first address is random, the increment/decrement size, and whether the address is incremented or decremented.</p></td>
</tr>
<tr class="row-odd"><td><p>sequence_slave_slave_burst</p></td>
<td><p>generate random 10-200 MI transactions. Sequence randomly selects burst mode. There are four burst modes (NO_OPERATION, ONLY READ, ONLY WRITE, RANDOM READ WRITE).</p></td>
</tr>
<tr class="row-even"><td><p>sequence_slave_sim</p></td>
<td><p>generate user-defined MI transactions. There are three tasks, mi_write (for MI write transactions), mi_read (for MI read transactions), get_rsp (to get MI read response) and create_sequence_item (A virtual task where the user can define a set of custom MI transactions).</p></td>
</tr>
</tbody>
</table>
<p>There are four prepared sequences for the master agent.
A sequence_master contains a task set_rd which reads the response and checks if reset has been asserted.
Then it adds a request to the sequencer if there is one.
If reset is set, then all requests are deleted from the sequencer.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sequence_master</p></td>
<td><p>generate random 10-200 MI transactions</p></td>
</tr>
<tr class="row-odd"><td><p>sequence_master_burst</p></td>
<td><p>generate random 10-200 MI transaction to random addresses. When the sequence is randomized, then a burst mode is randomly selected. (NO ARDY and DRDY, ONLY ARDY, ONLY DRDY, ARDY and DRDY). DRDY is generated only when enough requests for reading have been received.</p></td>
</tr>
<tr class="row-even"><td><p>sequence_master_max</p></td>
<td><p>generate random 10-200 MI transaction. Ardy is always asserted. Drdy has one clock cycle delay. This is the implementation’s limitation.</p></td>
</tr>
<tr class="row-odd"><td><p>sequence_slave_library</p></td>
<td><p>Randomly run MI sequence_slave 100 - 500 sequences on the MI sequencer.</p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../mfb/readme.html" class="btn btn-neutral float-left" title="MFB Agent" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../pma/readme.html" class="btn btn-neutral float-right" title="PMA agent" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, CESNET z.s.p.o..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>40GE Ethernet PHY for Ultrascale+ FPGAs &mdash; Minimal NDK Application Docs  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/css/theme_overrides.css?v=b530091d" />

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="PCIe Tools" href="../../../../pcie.html" />
    <link rel="prev" title="MFB -&gt; LBUS reconfigurator (TX LBUS)" href="../../mac_lite/tx_mac_lite/comp/adapters/lbus/reconf/readme.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../index.html" class="icon icon-home">
            Minimal NDK Application Docs
          </a>
              <div class="version">
                Git branch: devel, <br> Git hash: e905324a
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Application:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../app-minimal.html">Minimal NDK application</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Development Kit:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_core/doc/how_to_start.html">How to start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_core/doc/terminology.html">NDK Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_core/intel/readme.html">NDK architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_core/intel/readme.html#build-system">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_core/doc/configuration.html">Configuration files and parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_core/doc/testing.html">NDK testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../build/readme.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_core/doc/devtree.html">Device Tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_core/doc/faq.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supported cards:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_cards/reflexces/agi-fh400g/readme.html">ReflexCES XpressSX AGI-FH400G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_cards/intel/dk-dev-1sdx-p/readme.html">Intel Stratix 10 DX FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_cards/intel/dk-dev-agi027res/readme.html">Intel Agilex I-Series FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_cards/silicom/fb4cgg3/readme.html">Silicom fb4CGg3&#64;VU9P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_cards/silicom/fb2cghh/readme.html">Silicom fb2CGhh&#64;KU15P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_cards/silicom/n6010/readme.html">Silicom N6010</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_cards/bittware/ia-420f/readme.html">Bittware IA-420F</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_cards/amd/alveo-u200/readme.html">AMD Alveo U200</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_cards/amd/alveo-u55c/readme.html">AMD Alveo U55C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ndk_cards/amd/vcu118/readme.html">AMD VCU118&#64;VU9P</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VHDL components:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../base.html">Basic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ctrls.html">Controllers &amp; TSU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mi.html">MI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mfb.html">MFB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mvb.html">MVB Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../nic.html">Network Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../mac_lite/rx_mac_lite/readme.html">RX MAC LITE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mac_lite/tx_mac_lite/readme.html">TX MAC LITE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mac_lite/tx_mac_lite/comp/adapters/lbus/reconf/readme.html">MFB -&gt; LBUS reconfigurator (TX LBUS)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">40GE Ethernet PHY for Ultrascale+ FPGAs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#interface">Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#architecture">Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tx-pcs">TX PCS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rx-pcs">RX PCS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pma">PMA</a></li>
<li class="toctree-l4"><a class="reference internal" href="#management">Management</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#address-space">Address space</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pcie.html">PCIe Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../debug.html">Debug Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ver.html">UVM Verification</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Minimal NDK Application Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../nic.html">Network Tools</a></li>
      <li class="breadcrumb-item active">40GE Ethernet PHY for Ultrascale+ FPGAs</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../_sources/ofm_doc/comp/nic/eth_phy/40ge/readme.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ge-ethernet-phy-for-ultrascale-fpgas">
<span id="eth-phy-40g"></span><h1>40GE Ethernet PHY for Ultrascale+ FPGAs<a class="headerlink" href="#ge-ethernet-phy-for-ultrascale-fpgas" title="Link to this heading"></a></h1>
<p>The <a class="reference internal" href="#vhdl-entity-phy_40ge"><code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">phy_40ge</span></code></a> component implements 40G Ethernet Physical Layers (GBASE-R PCS + PMA) according to IEEE 802.3 clauses 82 and 83, intended for Xilinx Ultrascale FPGAs with GTY transceivers forming the PMA layer. Via the serial data ports <code class="xref vhdl vhdl-portsignal docutils literal notranslate"><span class="pre">RXP</span></code> <code class="xref vhdl vhdl-portsignal docutils literal notranslate"><span class="pre">TXP</span></code>, it can directly connect QSFP optical or CR-type transceivers. Ethernet data are passed to/from FPGA fabric via the standard MII interface. The component also includes management registers similar to 802.3 clauses 45.2.1 (PMA/PMD registers) and 42.2.3 (PCS registers) - see <a class="reference internal" href="#eth-phy-40g-addr-space"><span class="std std-ref">Address space</span></a>.</p>
<section id="interface">
<h2>Interface<a class="headerlink" href="#interface" title="Link to this heading"></a></h2>
<dl class="vhdl autoentity">
<dt class="sig sig-object vhdl" id="vhdl-entity-phy_40ge">
<span class="k"><span class="pre">ENTITY</span> </span><span class="sig-name descname"><span class="pre">phy_40ge</span></span><span class="k"> <span class="pre">IS</span></span><a class="headerlink" href="#vhdl-entity-phy_40ge" title="Link to this definition"></a></dt>
<dd><span class="sig-name descname">Ports</span><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Mode</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even" id="vhdl-portsignal-phy_40ge-reset"><td><p>RESET</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>Global Async reset</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-clk_stable"><td><p>CLK_STABLE</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td><p>XLGMII clock stable and running</p></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>XLGMII interface</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-xlgmii_clk"><td><p>XLGMII_CLK</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td><p>XLGMII clock, 156.25MHz, common for both TX and RX</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-phy_40ge-xlgmii_txd"><td><p>XLGMII_TXD</p></td>
<td><p>std_logic_vector(255 downto 0)</p></td>
<td><p>in</p></td>
<td><p>TX data</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-xlgmii_txc"><td><p>XLGMII_TXC</p></td>
<td><p>std_logic_vector(31 downto 0)</p></td>
<td><p>in</p></td>
<td><p>TX command</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-phy_40ge-xlgmii_rxd"><td><p>XLGMII_RXD</p></td>
<td><p>std_logic_vector(255 downto 0)</p></td>
<td><p>out</p></td>
<td><p>RX data</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-xlgmii_rxc"><td><p>XLGMII_RXC</p></td>
<td><p>std_logic_vector(31 downto 0)</p></td>
<td><p>out</p></td>
<td><p>RX command</p></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>Transceiver clocking</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-refclk_in"><td><p>REFCLK_IN</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>322.2 MHz clock - SLAVE mode only</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-phy_40ge-refclk_p"><td><p>REFCLK_P</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>External GTY reference clock positive, 322.265625 MHz. MASTER mode only</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-refclk_n"><td><p>REFCLK_N</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>External GTY reference clock negative, 322.265625 MHz. MASTER mode only</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-phy_40ge-refclk_out"><td><p>REFCLK_OUT</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td><p>Reference clock output for clocking a slave</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-drpclk"><td><p>DRPCLK</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>Stable free running clock, up to 125 MHz</p></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>Serial transceiver ports</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-rxn"><td><p>RXN</p></td>
<td><p>std_logic_vector(3 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-phy_40ge-rxp"><td><p>RXP</p></td>
<td><p>std_logic_vector(3 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-txn"><td><p>TXN</p></td>
<td><p>std_logic_vector(3 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-phy_40ge-txp"><td><p>TXP</p></td>
<td><p>std_logic_vector(3 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-rxpolarity"><td><p>RXPOLARITY</p></td>
<td><p>std_logic_vector(3 downto 0)</p></td>
<td><p>in</p></td>
<td><p>Optional polarity invert (‘1’ = inverts polarity on corresponding RXP/N pins)</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-phy_40ge-txpolarity"><td><p>TXPOLARITY</p></td>
<td><p>std_logic_vector(3 downto 0)</p></td>
<td><p>in</p></td>
<td><p>Optional polarity invert (‘1’ = inverts polarity on corresponding TXP/N pins)</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-_det"><td><p>_DET</p></td>
<td><p>std_logic_vector(3 downto 0)</p></td>
<td><p>in</p></td>
<td><p>Optional signal detect from the external transceiver/PMD</p></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>Management (MI32) - optional</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-mi_reset"><td><p>MI_RESET</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-phy_40ge-mi_clk"><td><p>MI_CLK</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-mi_dwr"><td><p>MI_DWR</p></td>
<td><p>std_logic_vector(31 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-phy_40ge-mi_addr"><td><p>MI_ADDR</p></td>
<td><p>std_logic_vector(31 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-mi_rd"><td><p>MI_RD</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-phy_40ge-mi_wr"><td><p>MI_WR</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-mi_be"><td><p>MI_BE</p></td>
<td><p>std_logic_vector( 3 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-phy_40ge-mi_drd"><td><p>MI_DRD</p></td>
<td><p>std_logic_vector(31 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-phy_40ge-mi_ardy"><td><p>MI_ARDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-phy_40ge-mi_drdy"><td><p>MI_DRDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The XLGMII bus operation and data format are described in IEEE 802.3 section 81.2.</p>
<p>For management bus operation, see <a class="reference internal" href="../../../mi_tools/readme.html#mi-bus"><span class="std std-ref">MI bus specification</span></a></p>
</section>
<section id="architecture">
<h2>Architecture<a class="headerlink" href="#architecture" title="Link to this heading"></a></h2>
<p>The main building blocks are the TX PCS <code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">tx_path_40ge</span></code>, RX PCS <code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">rx_path_40ge</span></code>, the PMA <code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">pma_xlaui_gty</span></code> and the management <code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">mgmt</span></code></p>
<a class="reference internal image-reference" href="../../../../../_images/bd.svg"><img alt="../../../../../_images/bd.svg" class="align-center" src="../../../../../_images/bd.svg" style="width: 100%;" /></a>
<section id="tx-pcs">
<h3>TX PCS<a class="headerlink" href="#tx-pcs" title="Link to this heading"></a></h3>
<p>The transmit side of the PCS layer performs functions defined in 802.3 clause 82.2: data coming from the XLGMII are encoded into 66-bit blocks, scrambled, distributed on 4 lanes, and then on each lane, the alignment marker block is periodically inserted.</p>
<p>The main building components are as follows:</p>
<ul class="simple">
<li><p>Encoder <code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">gbaser_encode</span></code> performs XLGMII to GBASE-R block encoding according to 802.3 clause 82.2.3.</p></li>
<li><p>FIFO <code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">pcs_tx_fifo_deprecated</span></code> serves as a buffer for speed rate compensation between MAC and PMA and for dropping of IDLE blocks as a result of alignment marker inserting</p></li>
<li><p>Scrambler <code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">scrambler_gen</span></code> implements self-synchronizing scrambler defined in 802.3 section 49.2.6</p></li>
<li><p>AM insertor <code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">am_ins</span></code> inserts alignment marker blocks into the data stream to allow the receiver to deskew and reorder the lanes</p></li>
</ul>
</section>
<section id="rx-pcs">
<h3>RX PCS<a class="headerlink" href="#rx-pcs" title="Link to this heading"></a></h3>
<p>The receive side of the PCS layer performs functions defined in 802.3 clause 82.2. The main building blocks are as follows:</p>
<ul class="simple">
<li><p>Decoder <code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">gbaser_decode</span></code> performs GBASE-R block decoding and conversion to XLGMII</p></li>
<li><p>FIFO <code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">pcs_rx_fifo_deprecated</span></code> serves as a buffer for speed rate compensation between MAC and PMA and for dropping of IDLE blocks as a result of alignment marker deletion</p></li>
<li><p>Descrambler <code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">descrambler_gen</span></code> implements polynomial descrambler defined in 802.3 section 49.2.10</p></li>
<li><p>Lane alignment <code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">lane_align</span></code> performs lane deskew, reorder, and deletes alignment marker blocks inserted by the transmit side</p></li>
<li><p>BER monitor <code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">ber_mon</span></code> monitors block headers validity and asserts <cite>hi_ber</cite> flag signaling degraded link reliability</p></li>
</ul>
</section>
<section id="pma">
<h3>PMA<a class="headerlink" href="#pma" title="Link to this heading"></a></h3>
<p>The PMA’s main task is to serialize and deserialize the data stream, provide TX, and recover RX clocks. The component’s core is the Xilinx GT IP <cite>gty_40ge</cite>, configured in 4 lane mode, with a bitrate of 10.3125 Gbps each. Each lane uses an async gearbox to simplify design logic and clocking (provided clocks match XLGMII frequency of 156.25 MHz in such configuration). Moreover, the PMA includes block lock component <code class="xref vhdl vhdl-entity docutils literal notranslate"><span class="pre">block_lock</span></code> to perform GBASE-R boundaries search on link startup, pipeline registers on the data path to simplify FPGA place &amp; route, and logic to perform GTY reset sequence.</p>
</section>
<section id="management">
<h3>Management<a class="headerlink" href="#management" title="Link to this heading"></a></h3>
<p>The management component collects PCS and PMA statistics and makes them available to software via the MI32 bus. It also provides some control registers to allow a reset of the PMA and PCS or to turn the loopback on/off. For more details, see the <a class="reference internal" href="../../../mi_tools/readme.html#mi-bus"><span class="std std-ref">MI bus specification</span></a> and <a class="reference internal" href="#eth-phy-40g-addr-space"><span class="std std-ref">Address space</span></a> sections.</p>
</section>
</section>
<section id="address-space">
<span id="eth-phy-40g-addr-space"></span><h2>Address space<a class="headerlink" href="#address-space" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Offset</p></th>
<th class="head"><p>Register</p></th>
<th class="head"><p>IEEE ref</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0x10000</p></td>
<td><p>PMA/PMD control 1; PMA/PMD status 1</p></td>
<td><p>1.0, 1.1</p></td>
</tr>
<tr class="row-odd"><td><p>0x10004</p></td>
<td><p>PMA/PMD device identifier</p></td>
<td><p>1.2, 1.3</p></td>
</tr>
<tr class="row-even"><td><p>0x10008</p></td>
<td><p>PMA/PMD speed ability; PMA/PMD devices in the package</p></td>
<td><p>1.4, 1.5</p></td>
</tr>
<tr class="row-odd"><td><p>0x1000C</p></td>
<td><p>PMA/PMD devices in the package; PMA/PMD control 2</p></td>
<td><p>1.6, 1.7</p></td>
</tr>
<tr class="row-even"><td><p>0x10010</p></td>
<td><p>PMA/PMD status 2; PMA/PMD transmit disable</p></td>
<td><p>1.8, 1.9</p></td>
</tr>
<tr class="row-odd"><td><p>0x10014</p></td>
<td><p>PMD receive signal detect; PMA/PMD extended ability register</p></td>
<td><p>1.10, 1.11</p></td>
</tr>
<tr class="row-even"><td><p>0x10018</p></td>
<td><p>10G-EPON PMA/PMD P2MP ability register</p></td>
<td><p>1.12</p></td>
</tr>
<tr class="row-odd"><td><p>0x30000</p></td>
<td><p>PCS control 1; PCS status 1</p></td>
<td><p>3.0, 3.1</p></td>
</tr>
<tr class="row-even"><td><p>0x30004</p></td>
<td><p>PCS device identifier</p></td>
<td><p>3.2, 3.3</p></td>
</tr>
<tr class="row-odd"><td><p>0x30008</p></td>
<td><p>PCS speed ability; PCS devices in the package</p></td>
<td><p>3.4, 3.5</p></td>
</tr>
<tr class="row-even"><td><p>0x3000C</p></td>
<td><p>PCS devices in the package; 10G PCS control 2</p></td>
<td><p>3.6, 3.7</p></td>
</tr>
<tr class="row-odd"><td><p>0x30010</p></td>
<td><p>10G PCS status 2; Reserved</p></td>
<td><p>3.8, 3.9</p></td>
</tr>
<tr class="row-even"><td><p>0x30040</p></td>
<td><p>GBASE-R and GBASE-T PCS status 1 + status 2</p></td>
<td><p>3.32, 3.33</p></td>
</tr>
<tr class="row-odd"><td><p>0x30058</p></td>
<td><p>BER high order counter; Errored block high order counter</p></td>
<td><p>3.44, 3.45</p></td>
</tr>
<tr class="row-even"><td><p>0x30064</p></td>
<td><p>Multi-lane BASE-R PCS block lock status</p></td>
<td><p>3.50, 3.51</p></td>
</tr>
<tr class="row-odd"><td><p>0x30068</p></td>
<td><p>Multi-lane BASE-R PCS alignment status</p></td>
<td><p>3.52, 3.53</p></td>
</tr>
<tr class="row-even"><td><p>0x30190</p></td>
<td><p>BIP Error counter lane 0 + lane 1</p></td>
<td><p>3.200, 3.201</p></td>
</tr>
<tr class="row-odd"><td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-even"><td><p>0x301b4</p></td>
<td><p>BIP Error counter lane 19 + lane 20</p></td>
<td><p>3.218, 3.219</p></td>
</tr>
<tr class="row-odd"><td><p>0x30320</p></td>
<td><p>PCS lane mapping registers lane 0 + lane 1</p></td>
<td><p>3.400, 3.401</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-odd"><td><p>0x30344</p></td>
<td><p>PCS lane mapping registers lane 19 + lane 20</p></td>
<td><p>3.418, 3.419</p></td>
</tr>
</tbody>
</table>
<p>All other registers are reserved - read as 0x0, write takes no effect.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../mac_lite/tx_mac_lite/comp/adapters/lbus/reconf/readme.html" class="btn btn-neutral float-left" title="MFB -&gt; LBUS reconfigurator (TX LBUS)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../../pcie.html" class="btn btn-neutral float-right" title="PCIe Tools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, CESNET z.s.p.o..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
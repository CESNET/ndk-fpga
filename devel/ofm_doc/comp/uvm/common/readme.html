<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Common package &mdash; Minimal NDK Application Docs  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme_overrides.css?v=b530091d" />

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="LII agent" href="../lii/readme.html" />
    <link rel="prev" title="Byte Array to LII convert enviroment" href="../byte_array_lii_rx/readme.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            Minimal NDK Application Docs
          </a>
              <div class="version">
                Git branch: devel, <br> Git hash: fbf9720f
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Application:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../app-minimal.html">Minimal NDK application</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Development Kit:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/how_to_start.html">How to start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/terminology.html">NDK Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/intel/readme.html">NDK architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/intel/readme.html#build-system">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/configuration.html">Configuration files and parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/testing.html">NDK testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../build/readme.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/devtree.html">Device Tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/faq.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supported cards:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/reflexces/agi-fh400g/readme.html">ReflexCES XpressSX AGI-FH400G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/intel/dk-dev-1sdx-p/readme.html">Intel Stratix 10 DX FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/intel/dk-dev-agi027res/readme.html">Intel Agilex I-Series FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/silicom/fb4cgg3/readme.html">Silicom fb4CGg3&#64;VU9P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/silicom/fb2cghh/readme.html">Silicom fb2CGhh&#64;KU15P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/silicom/n6010/readme.html">Silicom N6010</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/bittware/ia-420f/readme.html">Bittware IA-420F</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/amd/alveo-u200/readme.html">AMD Alveo U200</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/amd/alveo-u55c/readme.html">AMD Alveo U55C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/amd/vcu118/readme.html">AMD VCU118&#64;VU9P</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VHDL components:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../base.html">Basic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ctrls.html">Controllers &amp; TSU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mi.html">MI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mfb.html">MFB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mvb.html">MVB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nic.html">Network Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pcie.html">PCIe Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debug.html">Debug Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../ver.html">UVM Verification</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../manual.html">SystemVerilog and UVM tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sim_manual.html">UVM simulation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../componets.html">Components</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../reset/readme.html">RESET agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logic_vector/readme.html">Logic vector agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logic_vector_mvb/readme.html">logic_vector_mvb environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logic_vector_array/readme.html">Logic Vector Array agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logic_vector_array_mfb/readme.html">logic_vector_array_mfb environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../byte_array/readme.html">Byte Array agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../byte_array_mfb/readme.html">Byte_array_mfb environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logic_vector_array_intel_mac_seg/readme.html">byte array to MAC SEG</a></li>
<li class="toctree-l3"><a class="reference internal" href="../byte_array_pma/readme.html">Byte array to pma convert enviroment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../byte_array_mii/readme.html">Byte array to MII transitional environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../byte_array_lii/readme.html">Byte Array to LII convert enviroment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../byte_array_lii_rx/readme.html">Byte Array to LII convert enviroment</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Common package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#random">Random</a></li>
<li class="toctree-l4"><a class="reference internal" href="#comparer">Comparer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fifo">fifo</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../lii/readme.html">LII agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lii_rx/readme.html">LII agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lii_rx/readme.html#lii-interface">LII interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lii_rx/readme.html#lii-sequence-item">LII sequence item</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lii_rx/readme.html#lii-monitor">LII monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lii_rx/readme.html#lii-driver">LII driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mvb/readme.html">MVB agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mfb/readme.html">MFB Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mi/readme.html">MI agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pma/readme.html">PMA agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intel_mac_seg/readme.html">Intel MAC SEG</a></li>
<li class="toctree-l3"><a class="reference internal" href="../axi/readme.html">AXI Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logic_vector_array_axi/readme.html">logic_vector_array_axi environment</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Minimal NDK Application Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../ver.html">UVM Verification</a></li>
          <li class="breadcrumb-item"><a href="../componets.html">Components</a></li>
      <li class="breadcrumb-item active">Common package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/ofm_doc/comp/uvm/common/readme.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="common-package">
<span id="uvm-common"></span><h1>Common package<a class="headerlink" href="#common-package" title="Link to this heading"></a></h1>
<p>common package contain commonly used small components.</p>
<section id="random">
<h2>Random<a class="headerlink" href="#random" title="Link to this heading"></a></h2>
<p>Common randomization is required for generating space between frame and space between
packets. For this purpose two classes have been created (rand_rdy, rand_length). Fist class
generates rdy signal. Second class generate number reprezenting length.</p>
<p>There is class inheritance from rand_rdy and rand_length class. This class should be used
to generate better randomization. Class rand_rdy and rand_length is common interface.</p>
<p>Folowing example show commonly used for generating space between packet and interfame gaps</p>
<div class="highlight-SystemVerilog notranslate"><div class="highlight"><pre><span></span><span class="c1">//simple sequence</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">sequence_simple</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="nc">uvm_sequence</span><span class="p">#(</span><span class="n">sequence_item</span><span class="p">);</span>
<span class="w">    </span><span class="no">`uvm_object_utils</span><span class="p">(</span><span class="n">test</span><span class="o">::</span><span class="n">sequence_simple</span><span class="p">);</span>
<span class="w">    </span><span class="n">uvm_common</span><span class="o">::</span><span class="n">rand_rdy</span><span class="w">    </span><span class="n">rdy</span><span class="p">;</span><span class="w">    </span><span class="c1">//inter frame gabs</span>
<span class="w">    </span><span class="n">uvm_common</span><span class="o">::</span><span class="n">rand_length</span><span class="w"> </span><span class="n">space</span><span class="p">;</span><span class="w">  </span><span class="c1">//space between frames</span>
<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="k">new</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">uvm_component</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>
<span class="w">        </span><span class="k">super</span><span class="p">.</span><span class="k">new</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="w">        </span><span class="n">rdy</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">uvm_common</span><span class="o">::</span><span class="n">rand_rdy_rand</span><span class="o">::</span><span class="k">new</span><span class="p">();</span>
<span class="w">        </span><span class="n">space</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">uvm_common</span><span class="o">::</span><span class="n">rand_length_rand</span><span class="o">::</span><span class="k">new</span><span class="p">();</span>
<span class="w">    </span><span class="k">endfunction</span>
<span class="w">    </span><span class="k">task</span><span class="w"> </span><span class="n">body</span><span class="p">();</span>
<span class="w">        </span><span class="k">forever</span><span class="w"> </span><span class="k">begin</span>
<span class="w">            </span><span class="c1">// generate space between frames</span>
<span class="w">            </span><span class="n">space</span><span class="p">.</span><span class="n">randomize</span><span class="p">();</span>
<span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">space</span><span class="p">.</span><span class="n">m_value</span><span class="p">;</span><span class="w"> </span><span class="n">it</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">                </span><span class="n">send_empty_frame</span><span class="p">();</span>
<span class="w">            </span><span class="k">end</span>
<span class="w">            </span><span class="c1">//send transaction</span>
<span class="w">            </span><span class="n">hl_sequencer</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">hl_transaction</span><span class="p">);</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">hl_transaction</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="n">it</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">                </span><span class="c1">//send space inside frames</span>
<span class="w">                </span><span class="n">rdy</span><span class="p">.</span><span class="n">randomize</span><span class="p">();</span>
<span class="w">                </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">rdy</span><span class="p">.</span><span class="n">m_value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">beign</span>
<span class="w">                    </span><span class="n">send_empty_frame</span><span class="p">();</span>
<span class="w">                </span><span class="k">end</span>
<span class="w">                </span><span class="c1">//send frames</span>
<span class="w">                </span><span class="n">send_frame</span><span class="p">(</span><span class="n">hl_transaction</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">it</span><span class="p">],</span><span class="w"> </span><span class="n">it</span><span class="p">);</span>
<span class="w">            </span><span class="k">end</span>
<span class="w">        </span><span class="k">end</span>
<span class="w">    </span><span class="k">endtask</span>
<span class="w">    </span><span class="p">...</span>
<span class="kd">endclass</span>
</pre></div>
</div>
</section>
<section id="comparer">
<h2>Comparer<a class="headerlink" href="#comparer" title="Link to this heading"></a></h2>
<p>These components compare transactions from the DUT with transactions from the model.
There are three major classes. All classes have one required parameter and one optional parameter.
The first parameter is the type of model’s transactions. The second parameter is the type of DUT transactions.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">comparer classes</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>class</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>uvm_common::comparer_base_ordered#(type MODEL_ITEM, DUT_ITEM = MODEL_ITEM)</p></td>
<td><p>The DUT output has to produce transactions in the same order as the model</p></td>
</tr>
<tr class="row-odd"><td><p>uvm_common::comparer_base_disordered#(type MODEL_ITEM, DUT_ITEM = MODEL_ITEM)</p></td>
<td><p>The DUT output doesn’t have to produce transactions in the same order as the model</p></td>
</tr>
<tr class="row-even"><td><p>uvm_common::comparer_base_tagged#(type MODEL_ITEM, DUT_ITEM = MODEL_ITEM)</p></td>
<td><p>The Dut output has to produce transactions in the same order as the model only for each tag. In other words, if the transactions were split per tag into separate streams (one stream for each tag), they must be in order within each stream.</p></td>
</tr>
</tbody>
</table>
<p>If the type of the model and DUT transactions are the same, then a predefined comparer component can be used.
This component has only one parameter - the transaction type.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">comparer classes</span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 100.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>class</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>comparer_ordered #(type CLASS_TYPE)</p></td>
</tr>
<tr class="row-odd"><td><p>comparer_disordered #(type CLASS_TYPE)</p></td>
</tr>
<tr class="row-even"><td><p>comparer_taged #(type CLASS_TYPE)</p></td>
</tr>
</tbody>
</table>
<p>All comparers contain a watchdog. You can set up the maximum waiting time for the model and DUT transactions.
Maximum waiting time for the model transactions may be necessary if the DUT can create results from partial input.</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">comparer classes</span><a class="headerlink" href="#id3" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>function</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>dut_tr_timeout_set(time timeout)</p></td>
<td><p>How much can the DUT transactions be delayed after the model’s transactions (due to the DUT processing time)</p></td>
</tr>
<tr class="row-odd"><td><p>model_tr_timeout_set(time timeout)</p></td>
<td><p>How much can the model’s transactions be delayed after the DUT transactions (due to a partial calculation)</p></td>
</tr>
</tbody>
</table>
<p>The classes contain two analysis ports. The model’s output is connected to the <code class="docutils literal notranslate"><span class="pre">analysis_imp_model</span></code> port.
The DUT’s output is connected to the <code class="docutils literal notranslate"><span class="pre">analysis_imp_dut</span></code> port.
Anything else should be done by classes.</p>
<p>Also, there is the possibility of creating your own comparable algorithm and messages.
You can do this by reimplementing pure virtual functions:
<code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">function</span> <span class="pre">int</span> <span class="pre">unsigned</span> <span class="pre">compare(MODEL_TYPE</span> <span class="pre">tr_model,</span> <span class="pre">DUT_TYPE</span> <span class="pre">tr_dut);</span></code> and
<code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">function</span> <span class="pre">void</span> <span class="pre">message(MODEL_TYPE</span> <span class="pre">tr_model,</span> <span class="pre">DUT_TYPE</span> <span class="pre">tr_dut);</span></code>.
<code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">function</span> <span class="pre">void</span> <span class="pre">message(MODEL_TYPE</span> <span class="pre">tr_model,</span> <span class="pre">DUT_TYPE</span> <span class="pre">tr_dut);</span></code> The code below provides an example.</p>
<div class="highlight-SystemVerilog notranslate"><div class="highlight"><pre><span></span><span class="c1">// The class extends a specified model and dut type of transactions.</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">scoreboard_channel_header</span><span class="w"> </span><span class="p">#(</span><span class="n">HDR_WIDTH</span><span class="p">,</span><span class="w"> </span><span class="n">META_WIDTH</span><span class="p">,</span><span class="w"> </span><span class="n">CHANNELS</span><span class="p">,</span><span class="w"> </span><span class="n">PKT_MTU</span><span class="p">)</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="nc">uvm_common</span><span class="o">::</span><span class="n">comparer_base_tagged</span><span class="w"> </span><span class="p">#(</span><span class="n">packet_header</span><span class="w"> </span><span class="p">#(</span><span class="n">META_WIDTH</span><span class="p">,</span><span class="w"> </span><span class="n">CHANNELS</span><span class="p">,</span><span class="w"> </span><span class="n">PKT_MTU</span><span class="p">),</span><span class="w"> </span><span class="n">uvm_logic_vector</span><span class="o">::</span><span class="n">sequence_item</span><span class="p">#(</span><span class="n">HDR_WIDTH</span><span class="p">));</span>
<span class="w">    </span><span class="no">`uvm_component_param_utils</span><span class="p">(</span><span class="n">uvm_app_core</span><span class="o">::</span><span class="n">scoreboard_channel_header</span><span class="w"> </span><span class="p">#(</span><span class="n">HDR_WIDTH</span><span class="p">,</span><span class="w"> </span><span class="n">META_WIDTH</span><span class="p">,</span><span class="w"> </span><span class="n">CHANNELS</span><span class="p">,</span><span class="w"> </span><span class="n">PKT_MTU</span><span class="p">))</span>

<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="k">new</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">uvm_component</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>
<span class="w">        </span><span class="k">super</span><span class="p">.</span><span class="k">new</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="w">    </span><span class="k">endfunction</span>

<span class="w">    </span><span class="c1">// This method implements a comparison of these two types.</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">compare</span><span class="p">(</span><span class="n">packet_header</span><span class="w"> </span><span class="p">#(</span><span class="n">META_WIDTH</span><span class="p">,</span><span class="w"> </span><span class="n">CHANNELS</span><span class="p">,</span><span class="w"> </span><span class="n">PKT_MTU</span><span class="p">)</span><span class="w"> </span><span class="n">tr_model</span><span class="p">,</span><span class="w"> </span><span class="n">uvm_logic_vector</span><span class="o">::</span><span class="n">sequence_item</span><span class="p">#(</span><span class="n">HDR_WIDTH</span><span class="p">)</span><span class="w"> </span><span class="n">tr_dut</span><span class="p">);</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">eq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="kt">logic</span><span class="w"> </span><span class="p">[</span><span class="n">META_WIDTH</span><span class="o">-</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span><span class="n">meta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">&#39;x</span><span class="p">;</span>
<span class="w">        </span><span class="kt">logic</span><span class="w"> </span><span class="p">[$</span><span class="n">clog2</span><span class="p">(</span><span class="n">CHANNELS</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">channel</span><span class="p">;</span>
<span class="w">        </span><span class="kt">logic</span><span class="w"> </span><span class="p">[$</span><span class="n">clog2</span><span class="p">(</span><span class="n">PKT_MTU</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span><span class="w"> </span><span class="n">packet_size</span><span class="p">;</span>
<span class="w">        </span><span class="kt">logic</span><span class="w"> </span><span class="n">discard</span><span class="p">;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">META_WIDTH</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">            </span><span class="p">{</span><span class="n">discard</span><span class="p">,</span><span class="w"> </span><span class="n">channel</span><span class="p">,</span><span class="w"> </span><span class="n">packet_size</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tr_dut</span><span class="p">.</span><span class="n">data</span><span class="p">;</span>
<span class="w">        </span><span class="k">end</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<span class="w">            </span><span class="p">{</span><span class="n">discard</span><span class="p">,</span><span class="w"> </span><span class="n">channel</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">packet_size</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tr_dut</span><span class="p">.</span><span class="n">data</span><span class="p">;</span>
<span class="w">        </span><span class="k">end</span>

<span class="w">        </span><span class="n">eq</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">discard</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">tr_model</span><span class="p">.</span><span class="n">discard</span><span class="p">);</span>
<span class="w">        </span><span class="n">eq</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">channel</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">tr_model</span><span class="p">.</span><span class="n">channel</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">META_WIDTH</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">            </span><span class="n">eq</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">meta</span><span class="w">    </span><span class="o">===</span><span class="w"> </span><span class="n">tr_model</span><span class="p">.</span><span class="n">meta</span><span class="p">);</span>
<span class="w">        </span><span class="k">end</span>
<span class="w">        </span><span class="n">eq</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">packet_size</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">tr_model</span><span class="p">.</span><span class="n">packet_size</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">eq</span><span class="p">;</span>
<span class="w">    </span><span class="k">endfunction</span>

<span class="w">    </span><span class="c1">// This method implements error message printing when an error occurs.</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">message</span><span class="p">(</span><span class="n">packet_header</span><span class="w"> </span><span class="p">#(</span><span class="n">META_WIDTH</span><span class="p">,</span><span class="w"> </span><span class="n">CHANNELS</span><span class="p">,</span><span class="w"> </span><span class="n">PKT_MTU</span><span class="p">)</span><span class="w"> </span><span class="n">tr_model</span><span class="p">,</span><span class="w"> </span><span class="n">uvm_logic_vector</span><span class="o">::</span><span class="n">sequence_item</span><span class="p">#(</span><span class="n">HDR_WIDTH</span><span class="p">)</span><span class="w"> </span><span class="n">tr_dut</span><span class="p">);</span>
<span class="w">        </span><span class="kt">string</span><span class="w"> </span><span class="n">error_msg</span><span class="p">;</span><span class="w"> </span><span class="c1">//ETH [%0d] header</span>
<span class="w">        </span><span class="kt">logic</span><span class="w"> </span><span class="p">[</span><span class="n">META_WIDTH</span><span class="o">-</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span><span class="n">meta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">&#39;x</span><span class="p">;</span>
<span class="w">        </span><span class="kt">logic</span><span class="w"> </span><span class="p">[$</span><span class="n">clog2</span><span class="p">(</span><span class="n">CHANNELS</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">channel</span><span class="p">;</span>
<span class="w">        </span><span class="kt">logic</span><span class="w"> </span><span class="p">[$</span><span class="n">clog2</span><span class="p">(</span><span class="n">PKT_MTU</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span><span class="w"> </span><span class="n">packet_size</span><span class="p">;</span>
<span class="w">        </span><span class="kt">logic</span><span class="w"> </span><span class="n">discard</span><span class="p">;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">META_WIDTH</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">            </span><span class="p">{</span><span class="n">discard</span><span class="p">,</span><span class="w"> </span><span class="n">channel</span><span class="p">,</span><span class="w"> </span><span class="n">packet_size</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tr_dut</span><span class="p">.</span><span class="n">data</span><span class="p">;</span>
<span class="w">        </span><span class="k">end</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<span class="w">            </span><span class="p">{</span><span class="n">discard</span><span class="p">,</span><span class="w"> </span><span class="n">channel</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">packet_size</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tr_dut</span><span class="p">.</span><span class="n">data</span><span class="p">;</span>
<span class="w">        </span><span class="k">end</span>
<span class="w">        </span><span class="p">$</span><span class="n">swrite</span><span class="p">(</span><span class="n">error_msg</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n\t\t</span><span class="s">          [DUT model]&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">$</span><span class="n">swrite</span><span class="p">(</span><span class="n">error_msg</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%s</span><span class="se">\n\t\t</span><span class="s">discard [%b %b]&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">error_msg</span><span class="p">,</span><span class="w"> </span><span class="n">discard</span><span class="p">,</span><span class="w"> </span><span class="n">tr_model</span><span class="p">.</span><span class="n">discard</span><span class="p">);</span>
<span class="w">        </span><span class="p">$</span><span class="n">swrite</span><span class="p">(</span><span class="n">error_msg</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%s</span><span class="se">\n\t\t</span><span class="s">channel [%0d %0d]&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">error_msg</span><span class="p">,</span><span class="w"> </span><span class="n">channel</span><span class="p">,</span><span class="w"> </span><span class="n">tr_model</span><span class="p">.</span><span class="n">channel</span><span class="p">);</span>
<span class="w">        </span><span class="p">$</span><span class="n">swrite</span><span class="p">(</span><span class="n">error_msg</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%s</span><span class="se">\n\t\t</span><span class="s">meta    [%h %h]&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">error_msg</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">tr_model</span><span class="p">.</span><span class="n">meta</span><span class="p">);</span>
<span class="w">        </span><span class="p">$</span><span class="n">swrite</span><span class="p">(</span><span class="n">error_msg</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%s</span><span class="se">\n\t\t</span><span class="s">packet_size [%0d %0d]&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">error_msg</span><span class="p">,</span><span class="w"> </span><span class="n">packet_size</span><span class="p">,</span><span class="w"> </span><span class="n">tr_model</span><span class="p">.</span><span class="n">packet_size</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">error_msg</span><span class="p">;</span>
<span class="w">    </span><span class="k">endfunction</span>
<span class="kd">endclass</span>
</pre></div>
</div>
</section>
<section id="fifo">
<h2>fifo<a class="headerlink" href="#fifo" title="Link to this heading"></a></h2>
<p>This component has been created for connecting models. The problem is when there is an output value of one model changes before entering another model.
A common example is when the same model is used in the verification multiple times, and each time, its input(s) are modified differently. Such a scenario is displayed in the example below.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="n">ENTITY_i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">entity</span><span class="w"> </span><span class="nc">work</span><span class="p">.</span><span class="n">ENTITY_A</span>
<span class="k">port</span><span class="w"> </span><span class="k">map</span><span class="p">(</span>
<span class="w">    </span><span class="n">CLK</span><span class="w">    </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">RX_CLK</span><span class="p">,</span>
<span class="w">    </span><span class="n">RESET</span><span class="w">  </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">RX_RESET</span><span class="p">,</span>

<span class="w">    </span><span class="n">DO</span><span class="w">     </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ea_do</span>
<span class="p">);</span>

<span class="n">eb1_di</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">ea_do</span><span class="w"> </span><span class="o">+</span><span class="mi">10</span><span class="p">;</span>
<span class="n">ENTITY_B1_i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">entity</span><span class="w"> </span><span class="nc">work</span><span class="p">.</span><span class="n">ENTITY_B</span>
<span class="k">port</span><span class="w"> </span><span class="k">map</span><span class="p">(</span>
<span class="w">    </span><span class="n">CLK</span><span class="w">    </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">RX_CLK</span><span class="p">,</span>
<span class="w">    </span><span class="n">RESET</span><span class="w">  </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">RX_RESET</span><span class="p">,</span>

<span class="w">    </span><span class="n">DI</span><span class="w">     </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">eb1_di</span>
<span class="w">    </span><span class="n">DO</span><span class="w">     </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">eb1_do</span>
<span class="p">);</span>

<span class="n">eb2_di</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">ea_do</span><span class="w"> </span><span class="o">+</span><span class="mi">20</span><span class="p">;</span>
<span class="n">ENTITY_B2_i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">entity</span><span class="w"> </span><span class="nc">work</span><span class="p">.</span><span class="n">ENTITY_B</span>
<span class="k">port</span><span class="w"> </span><span class="k">map</span><span class="p">(</span>
<span class="w">    </span><span class="n">CLK</span><span class="w">    </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">RX_CLK</span><span class="p">,</span>
<span class="w">    </span><span class="n">RESET</span><span class="w">  </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">RX_RESET</span><span class="p">,</span>

<span class="w">    </span><span class="n">DI</span><span class="w">     </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">eb2_di</span>
<span class="w">    </span><span class="n">DO</span><span class="w">     </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">eb2_do</span>
<span class="p">);</span>
</pre></div>
</div>
<p>The code below shows the scoreboard for the model connection.</p>
<div class="highlight-SystemVerilog notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">fifo_en1_input</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="nc">uvm_common</span><span class="o">::</span><span class="n">fifo</span><span class="p">#(</span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">)));</span>
<span class="w">    </span><span class="no">`uvm_component_utils</span><span class="p">(</span><span class="n">fifo_en1_input</span><span class="p">);</span>

<span class="w">    </span><span class="n">uvm_analysis_imp_export</span><span class="p">#(</span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">)),</span><span class="w"> </span><span class="n">fifo_en1_input</span><span class="p">)</span><span class="w"> </span><span class="n">analysis_export</span><span class="p">;</span>

<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="k">new</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">uvm_component</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>
<span class="w">        </span><span class="k">super</span><span class="p">.</span><span class="k">new</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="w">        </span><span class="n">analysis_export</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="p">(</span><span class="s">&quot;analysis_expoert&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>
<span class="w">    </span><span class="k">endfunction</span>

<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">write</span><span class="p">(</span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="n">t</span><span class="p">);</span>
<span class="w">        </span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>

<span class="w">        </span><span class="n">item</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">))</span><span class="o">::</span><span class="n">type_id</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;item&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>
<span class="w">        </span><span class="n">item</span><span class="p">.</span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">)</span><span class="o">::</span><span class="n">type_id</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;item&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>

<span class="w">        </span><span class="n">item</span><span class="p">.</span><span class="n">tag</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">tag</span><span class="p">;</span>
<span class="w">        </span><span class="n">item</span><span class="p">.</span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">start</span><span class="p">;</span>
<span class="w">        </span><span class="n">item</span><span class="p">.</span><span class="n">item</span><span class="p">.</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">item</span><span class="p">.</span><span class="n">data</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
<span class="w">    </span><span class="k">endfunction</span>
<span class="kd">endclass</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">fifo_en2_input</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="nc">uvm_common</span><span class="o">::</span><span class="n">fifo</span><span class="p">#(</span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">)));</span>
<span class="w">    </span><span class="no">`uvm_component_utils</span><span class="p">(</span><span class="n">fifo_en1_input</span><span class="p">);</span>

<span class="w">    </span><span class="n">uvm_analysis_imp_export</span><span class="p">#(</span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">)),</span><span class="w"> </span><span class="n">fifo_en2_input</span><span class="p">)</span><span class="w"> </span><span class="n">analysis_export</span><span class="p">;</span>

<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="k">new</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">uvm_component</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>
<span class="w">        </span><span class="k">super</span><span class="p">.</span><span class="k">new</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="w">        </span><span class="n">analysis_export</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="p">(</span><span class="s">&quot;analysis_expoert&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>
<span class="w">    </span><span class="k">endfunction</span>

<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">write</span><span class="p">(</span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="n">t</span><span class="p">);</span>
<span class="w">        </span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>

<span class="w">        </span><span class="n">item</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">))</span><span class="o">::</span><span class="n">type_id</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;item&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>
<span class="w">        </span><span class="n">item</span><span class="p">.</span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">)</span><span class="o">::</span><span class="n">type_id</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;item&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>

<span class="w">        </span><span class="n">item</span><span class="p">.</span><span class="n">tag</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">tag</span><span class="p">;</span>
<span class="w">        </span><span class="n">item</span><span class="p">.</span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">start</span><span class="p">;</span>
<span class="w">        </span><span class="n">item</span><span class="p">.</span><span class="n">item</span><span class="p">.</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">item</span><span class="p">.</span><span class="n">data</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
<span class="w">    </span><span class="k">endfunction</span>
<span class="kd">endclass</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">model_entityb</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="nc">uvm_component</span><span class="p">;</span>
<span class="w">    </span><span class="no">`uvm_component_utils</span><span class="p">(</span><span class="n">model_entityb</span><span class="p">);</span>

<span class="w">    </span><span class="n">uvm_common</span><span class="o">::</span><span class="n">fifo</span><span class="p">#(</span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">)))</span><span class="w"> </span><span class="n">in</span><span class="p">;</span>

<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="k">new</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">uvm_component</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="w">        </span><span class="k">super</span><span class="p">.</span><span class="k">new</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="w">        </span><span class="n">in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
<span class="w">    </span><span class="k">endfunction</span>

<span class="w">    </span><span class="p">....</span>
<span class="kd">endclass</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">scoreboard</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="nc">uvm_scoreboard</span><span class="p">;</span>
<span class="w">    </span><span class="no">`uvm_component_utils</span><span class="p">(</span><span class="n">scoreboard</span><span class="p">);</span>

<span class="w">    </span><span class="n">model_A</span><span class="w"> </span><span class="n">m_model_a</span><span class="p">;</span>
<span class="w">    </span><span class="n">model_B</span><span class="w"> </span><span class="n">m_model_b1</span><span class="p">;</span>
<span class="w">    </span><span class="n">model_B</span><span class="w"> </span><span class="n">m_model_b2</span><span class="p">;</span>

<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="k">new</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">uvm_component</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>
<span class="w">        </span><span class="k">super</span><span class="p">.</span><span class="k">new</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="w">    </span><span class="k">endfunction</span>

<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">build_phase</span><span class="p">(</span><span class="n">uvm_phase</span><span class="w"> </span><span class="n">phase</span><span class="p">);</span>
<span class="w">        </span><span class="n">m_model_a</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">model_A</span><span class="o">::</span><span class="n">type_id</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;m_model_a&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>
<span class="w">        </span><span class="n">m_model_b1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">model_B</span><span class="o">::</span><span class="n">type_id</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;m_model_b1&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>
<span class="w">        </span><span class="n">m_model_b1</span><span class="p">.</span><span class="n">in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fifo_en1_input</span><span class="o">::</span><span class="n">type_id</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;in&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">m_model_b1</span><span class="p">);</span>
<span class="w">        </span><span class="n">m_model_b2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">model_B</span><span class="o">::</span><span class="n">type_id</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;m_model_b2&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>
<span class="w">        </span><span class="n">m_model_b2</span><span class="p">.</span><span class="n">in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fifo_en2_input</span><span class="o">::</span><span class="n">type_id</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;in&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">m_model_b2</span><span class="p">);</span>
<span class="w">    </span><span class="k">endfunction</span>

<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">connect_phase</span><span class="p">(</span><span class="n">uvm_phase</span><span class="w"> </span><span class="n">phase</span><span class="p">);</span>
<span class="w">        </span><span class="n">fifo_en1_input</span><span class="w"> </span><span class="n">mb1_in</span><span class="p">;</span>
<span class="w">        </span><span class="n">fifo_en2_input</span><span class="w"> </span><span class="n">mb2_in</span><span class="p">;</span>

<span class="w">        </span><span class="p">$</span><span class="n">cast</span><span class="p">(</span><span class="n">mb1_in</span><span class="p">,</span><span class="w"> </span><span class="n">m_model_b1</span><span class="p">.</span><span class="n">in</span><span class="p">);</span>
<span class="w">        </span><span class="n">m_model_a</span><span class="p">.</span><span class="k">do</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">mb1_in</span><span class="p">.</span><span class="n">analysis_export</span><span class="p">);</span>
<span class="w">        </span><span class="p">$</span><span class="n">cast</span><span class="p">(</span><span class="n">mb2_in</span><span class="p">,</span><span class="w"> </span><span class="n">m_model_b2</span><span class="p">.</span><span class="n">in</span><span class="p">);</span>
<span class="w">        </span><span class="n">m_model_a</span><span class="p">.</span><span class="k">do</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">mb2_in</span><span class="p">.</span><span class="n">analysis_export</span><span class="p">);</span>
<span class="w">    </span><span class="k">endfunction</span>
<span class="kd">endclass</span>
</pre></div>
</div>
<p>Also, there is the possibility of merging two inputs into one. When something. The code below shows an example of an input FIFO which merges two inputs into one.</p>
<div class="highlight-SystemVerilog notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">m_fifo_input</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="nc">uvm_common</span><span class="o">::</span><span class="n">fifo</span><span class="p">#(</span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">)));</span>
<span class="w">    </span><span class="no">`uvm_component_utils</span><span class="p">(</span><span class="n">m_fifo_input</span><span class="p">);</span>

<span class="w">    </span><span class="n">uvm_tlm_analysis_fifo</span><span class="p">#(</span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">16</span><span class="p">)),</span><span class="w"> </span><span class="n">m_fifo_input</span><span class="p">)</span><span class="w"> </span><span class="n">in_a</span><span class="p">;</span>
<span class="w">    </span><span class="n">uvm_tlm_analysis_fifo</span><span class="p">#(</span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">16</span><span class="p">)),</span><span class="w"> </span><span class="n">m_fifo_input</span><span class="p">)</span><span class="w"> </span><span class="n">in_b</span><span class="p">;</span>

<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="k">new</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">uvm_component</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>
<span class="w">        </span><span class="k">super</span><span class="p">.</span><span class="k">new</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="w">        </span><span class="n">in_a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="p">(</span><span class="s">&quot;in_a&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>
<span class="w">        </span><span class="n">in_b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="p">(</span><span class="s">&quot;in_b&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>
<span class="w">    </span><span class="k">endfunction</span>

<span class="w">    </span><span class="k">task</span><span class="w"> </span><span class="n">run_phase</span><span class="p">(</span><span class="n">uvm_phase</span><span class="p">);</span>
<span class="w">        </span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="n">tr_in_a</span><span class="p">;</span>
<span class="w">        </span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="n">tr_in_b</span><span class="p">;</span>

<span class="w">        </span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="n">tr_out</span><span class="p">;</span>

<span class="w">        </span><span class="k">forever</span><span class="w"> </span><span class="k">begin</span>
<span class="w">            </span><span class="n">in_a</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">tr_in_a</span><span class="p">);</span>
<span class="w">            </span><span class="n">in_b</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">tr_in_b</span><span class="p">);</span>

<span class="w">            </span><span class="n">tr_out</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">model_item</span><span class="p">#(</span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">)</span><span class="o">::</span><span class="n">type_id</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;tr_out&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>
<span class="w">            </span><span class="n">tr_out</span><span class="p">.</span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">uvm_logic_vector</span><span class="p">#(</span><span class="mi">32</span><span class="p">)</span><span class="o">::</span><span class="n">type_id</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;tr_out.item&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>

<span class="w">            </span><span class="n">tr_out</span><span class="p">.</span><span class="n">time_array_add</span><span class="p">(</span><span class="n">tr_in_a</span><span class="p">.</span><span class="n">start</span><span class="p">);</span>
<span class="w">            </span><span class="n">tr_out</span><span class="p">.</span><span class="n">time_array_add</span><span class="p">(</span><span class="n">tr_in_b</span><span class="p">.</span><span class="n">start</span><span class="p">);</span>
<span class="w">            </span><span class="n">tr_out</span><span class="p">.</span><span class="n">tag</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;M1_&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">tr_in_b</span><span class="p">.</span><span class="n">tag</span><span class="p">};</span>
<span class="w">            </span><span class="n">tr_out</span><span class="p">.</span><span class="n">item</span><span class="p">.</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">tr_in_b</span><span class="p">.</span><span class="n">item</span><span class="p">.</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">tr_in_a</span><span class="p">.</span><span class="n">item</span><span class="p">.</span><span class="n">data</span><span class="p">};</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">tr_out</span><span class="p">);</span>
<span class="w">        </span><span class="k">end</span>
<span class="w">    </span><span class="k">endtask</span>
<span class="kd">endclass</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../byte_array_lii_rx/readme.html" class="btn btn-neutral float-left" title="Byte Array to LII convert enviroment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../lii/readme.html" class="btn btn-neutral float-right" title="LII agent" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, CESNET z.s.p.o..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
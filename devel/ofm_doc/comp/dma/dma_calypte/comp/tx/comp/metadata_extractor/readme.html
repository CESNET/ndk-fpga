<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Metadata Extractor &mdash; Minimal NDK Application Docs  documentation</title>
      <link rel="stylesheet" href="../../../../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../../../../_static/css/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../../../../../" id="documentation_options" src="../../../../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../../../../_static/jquery.js"></script>
        <script src="../../../../../../../../_static/underscore.js"></script>
        <script src="../../../../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../../../../../_static/doctools.js"></script>
        <script src="../../../../../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../../search.html" />
    <link rel="next" title="Channel Start/stop control" href="../chan_start_stop_ctrl/readme.html" />
    <link rel="prev" title="TX DMA Calypte" href="../../readme.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../../../../index.html" class="icon icon-home">
            Minimal NDK Application Docs
          </a>
              <div class="version">
                Git branch: devel, <br> Git hash: dc8ad64e
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Application:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../app-minimal.html">Minimal NDK application</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Development Kit:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_core/doc/how_to_start.html">How to start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_core/doc/terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_core/intel/readme.html">NDK architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_core/doc/configuration.html">Configuration files and parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_core/doc/testing.html">NDK testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../build/readme.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_core/doc/devtree.html">Device Tree</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supported cards:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_cards/agi-fh400g/readme.html">ReflexCES XpressSX AGI-FH400G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_cards/dk-dev-1sdx-p/readme.html">Intel Stratix 10 DX FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_cards/dk-dev-agi027res/readme.html">Intel Agilex I-Series FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_cards/fb4cgg3/readme.html">Silicom fb4CGg3&#64;VU9P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_cards/fb2cghh/readme.html">Silicom fb2CGhh&#64;KU15P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_cards/ia-420f/readme.html">Bittware IA-420F</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VHDL components:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../base.html">Basic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../ctrls.html">Controllers &amp; TSU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../mi.html">MI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../mfb.html">MFB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../mvb.html">MVB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../nic.html">Network Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../../../../pcie.html">PCIe Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/mtc/readme.html">MTC (MI Transaction Controller)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/ptc/readme.html">PTC (PCIe Transaction Controller)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/ptc/comp/tag_manager/readme.html">PTC Tag Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/common/readme.html">PCI_EXT_CAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/logic/byte_count/readme.html">PCIE Byte Count</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/logic/byte_en_decoder/readme.html">PCIe Byte Enable Decoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/others/hdr_gen/readme.html">PCIE Header parsing/deparsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/convertors/readme.html">PCIE CONVERSION UNITS</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../../readme.html">DMA Calypte</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../../readme.html#provided-dma-configurations">Provided DMA configurations</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../../readme.html#subcomponents">Subcomponents</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../../rx/readme.html">RX DMA Calypte</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../readme.html">TX DMA Calypte</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../debug.html">Debug Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../ver.html">UVM Verification</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../../../index.html">Minimal NDK Application Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../../../../pcie.html">PCIe Tools</a></li>
          <li class="breadcrumb-item"><a href="../../../../readme.html">DMA Calypte</a></li>
          <li class="breadcrumb-item"><a href="../../readme.html">TX DMA Calypte</a></li>
      <li class="breadcrumb-item active">Metadata Extractor</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../../../../_sources/ofm_doc/comp/dma/dma_calypte/comp/tx/comp/metadata_extractor/readme.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="metadata-extractor">
<span id="tx-dma-metadata-extractor"></span><h1>Metadata Extractor<a class="headerlink" href="#metadata-extractor" title="Permalink to this heading"></a></h1>
<dl class="vhdl autoentity">
<dt class="sig sig-object vhdl" id="vhdl-entity-tx_dma_metadata_extractor">
<span class="k"><span class="pre">ENTITY</span> </span><span class="sig-name descname"><span class="pre">TX_DMA_METADATA_EXTRACTOR</span></span><span class="k"> <span class="pre">IS</span></span><a class="headerlink" href="#vhdl-entity-tx_dma_metadata_extractor" title="Permalink to this definition"></a></dt>
<dd><p>This component processes the incoming PCIe transactions. This does not care about whole DMA
frames delimited by the DMA header but processes all frames in general. The metadata on the
output are chosen according their usefullness later in the design.</p>
<span class="sig-name descname">Generics</span><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Generic</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even" id="vhdl-gengeneric-tx_dma_metadata_extractor-device"><td><p>DEVICE</p></td>
<td><p>string</p></td>
<td><p>“ULTRASCALE”</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-tx_dma_metadata_extractor-channels"><td><p>CHANNELS</p></td>
<td><p>natural</p></td>
<td><p>8</p></td>
<td><p>For generating outputs and calculating the DMA buffers address space</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-tx_dma_metadata_extractor-pointer_width"><td><p>POINTER_WIDTH</p></td>
<td><p>natural</p></td>
<td><p>16</p></td>
<td><p>Pointer with respect to bytes</p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-tx_dma_metadata_extractor-pcie_mfb_regions"><td><p>PCIE_MFB_REGIONS</p></td>
<td><p>natural</p></td>
<td><p>1</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-tx_dma_metadata_extractor-pcie_mfb_region_size"><td><p>PCIE_MFB_REGION_SIZE</p></td>
<td><p>natural</p></td>
<td><p>1</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-tx_dma_metadata_extractor-pcie_mfb_block_size"><td><p>PCIE_MFB_BLOCK_SIZE</p></td>
<td><p>natural</p></td>
<td><p>8</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-tx_dma_metadata_extractor-pcie_mfb_item_width"><td><p>PCIE_MFB_ITEM_WIDTH</p></td>
<td><p>natural</p></td>
<td><p>32</p></td>
<td></td>
</tr>
</tbody>
</table>
<span class="sig-name descname">Ports</span><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Mode</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even" id="vhdl-portsignal-tx_dma_metadata_extractor-clk"><td><p>CLK</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_metadata_extractor-reset"><td><p>RESET</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>PCIe MFB interface</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_metadata_extractor-pcie_mfb_data"><td><p>PCIE_MFB_DATA</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS*PCIE_MFB_REGION_SIZE*PCIE_MFB_BLOCK_SIZE*PCIE_MFB_ITEM_WIDTH-1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_metadata_extractor-pcie_mfb_meta"><td><p>PCIE_MFB_META</p></td>
<td><p>std_logic_vector(PCIE_CQ_META_WIDTH -1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>More information about the content of this port can be found in <em>pcie_meta_pack</em></p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_metadata_extractor-pcie_mfb_sof"><td><p>PCIE_MFB_SOF</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS -1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_metadata_extractor-pcie_mfb_eof"><td><p>PCIE_MFB_EOF</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS -1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_metadata_extractor-pcie_mfb_sof_pos"><td><p>PCIE_MFB_SOF_POS</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS*max(1, log2(PCIE_MFB_REGION_SIZE)) -1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_metadata_extractor-pcie_mfb_eof_pos"><td><p>PCIE_MFB_EOF_POS</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS*max(1, log2(PCIE_MFB_REGION_SIZE*PCIE_MFB_BLOCK_SIZE)) -1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_metadata_extractor-pcie_mfb_src_rdy"><td><p>PCIE_MFB_SRC_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_metadata_extractor-pcie_mfb_dst_rdy"><td><p>PCIE_MFB_DST_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>=====</p></td>
<td><p>User MFB signals</p></td>
<td><p>=====</p></td>
<td><p>Metadata are all valid with SOF except for USR_MFB_META_BYTE_EN.</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_metadata_extractor-usr_mfb_meta_is_dma_hdr"><td><p>USR_MFB_META_IS_DMA_HDR</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td><p>One bit indication if a current transaction contains DMA header.</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_metadata_extractor-usr_mfb_meta_pcie_addr"><td><p>USR_MFB_META_PCIE_ADDR</p></td>
<td><p>std_logic_vector(62 -1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>Processed adress from the PCIe header of a current transaction.</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_metadata_extractor-usr_mfb_meta_chan_num"><td><p>USR_MFB_META_CHAN_NUM</p></td>
<td><p>std_logic_vector(log2(CHANNELS) -1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>Index of a channel.</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_metadata_extractor-usr_mfb_meta_byte_en"><td><p>USR_MFB_META_BYTE_EN</p></td>
<td><p>std_logic_vector((PCIE_MFB_REGIONS*PCIE_MFB_REGION_SIZE*PCIE_MFB_BLOCK_SIZE*PCIE_MFB_ITEM_WIDTH)/8 -1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>Byte enable for every MFB word where frame is transmitted. Calculated from Byte Enable
signals of the PCIe transaction.</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_metadata_extractor-usr_mfb_data"><td><p>USR_MFB_DATA</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS*PCIE_MFB_REGION_SIZE*PCIE_MFB_BLOCK_SIZE*PCIE_MFB_ITEM_WIDTH-1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_metadata_extractor-usr_mfb_sof"><td><p>USR_MFB_SOF</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS -1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_metadata_extractor-usr_mfb_eof"><td><p>USR_MFB_EOF</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS -1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_metadata_extractor-usr_mfb_sof_pos"><td><p>USR_MFB_SOF_POS</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS*max(1, log2(PCIE_MFB_REGION_SIZE)) -1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_metadata_extractor-usr_mfb_eof_pos"><td><p>USR_MFB_EOF_POS</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS*max(1, log2(PCIE_MFB_REGION_SIZE*PCIE_MFB_BLOCK_SIZE)) -1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_metadata_extractor-usr_mfb_src_rdy"><td><p>USR_MFB_SRC_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_metadata_extractor-usr_mfb_dst_rdy"><td><p>USR_MFB_DST_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

<section id="general-subcomponents">
<h2>General subcomponents<a class="headerlink" href="#general-subcomponents" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../../../../../../pcie/others/hdr_gen/readme.html#hdr-gen"><span class="std std-ref">PCIE Header parsing/deparsing</span></a></p></li>
<li><p><a class="reference internal" href="../../../../../../mfb_tools/flow/cutter_simple/readme.html#mfb-cutter-simple"><span class="std std-ref">MFB Cutter Simple</span></a></p></li>
<li><p><a class="reference internal" href="../../../../../../mfb_tools/logic/auxiliary_signals/readme.html#mfb-auxiliary-signals"><span class="std std-ref">MFB Auxiliary Signals</span></a></p></li>
<li><p><a class="reference internal" href="../../../../../../pcie/logic/byte_en_decoder/readme.html#pcie-byte-en-decoder"><span class="std std-ref">PCIe Byte Enable Decoder</span></a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../readme.html" class="btn btn-neutral float-left" title="TX DMA Calypte" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../chan_start_stop_ctrl/readme.html" class="btn btn-neutral float-right" title="Channel Start/stop control" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, CESNET z.s.p.o..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
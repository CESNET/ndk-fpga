<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Channel Core &mdash; Minimal NDK Application Docs  documentation</title>
      <link rel="stylesheet" href="../../../../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../../../../_static/css/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../../../../../" id="documentation_options" src="../../../../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../../../../_static/jquery.js"></script>
        <script src="../../../../../../../../_static/underscore.js"></script>
        <script src="../../../../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../../../../../_static/doctools.js"></script>
        <script src="../../../../../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../../search.html" />
    <link rel="next" title="MFB Data Aligner" href="comp/mfb_data_aligner/readme.html" />
    <link rel="prev" title="TX DMA Calypte" href="../../readme.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../../../../../index.html" class="icon icon-home"> Minimal NDK Application Docs
          </a>
              <div class="version">
                Git branch: devel, <br> Git hash: 8cd70899
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Application:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../app-minimal.html">Minimal NDK application</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Development Kit:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_core/doc/how_to_start.html">How to start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_core/doc/terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_core/intel/readme.html">NDK architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_core/doc/configuration.html">Configuration files and parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_core/doc/testing.html">NDK testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../build/readme.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_core/doc/devtree.html">Device Tree</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supported cards:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_cards/agi-fh400g/readme.html">ReflexCES XpressSX AGI-FH400G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_cards/dk-dev-1sdx-p/readme.html">Intel Stratix 10 DX FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_cards/dk-dev-agi027res/readme.html">Intel Agilex I-Series FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_cards/fb4cgg3/readme.html">Silicom fb4CGg3&#64;VU9P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../ndk_cards/fb2cghh/readme.html">Silicom fb2CGhh&#64;KU15P</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VHDL components:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../base.html">Basic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../ctrls.html">Controllers &amp; TSU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../mi.html">MI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../mfb.html">MFB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../mvb.html">MVB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../nic.html">Network Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../../../../pcie.html">PCIe Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/mtc/readme.html">MTC (MI Transaction Controller)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/ptc/readme.html">PTC (PCIe Transaction Controller)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/ptc/comp/tag_manager/readme.html">PTC Tag Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/common/readme.html">PCI_EXT_CAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/logic/byte_count/readme.html">PCIE Byte Count</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/others/hdr_gen/readme.html">PCIE Header parsing/deparsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../pcie/convertors/readme.html">PCIE CONVERSION UNITS</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../../readme.html">DMA Calypte</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../../readme.html#provided-dma-configurations">Provided DMA configurations</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../../readme.html#subcomponents">Subcomponents</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../../rx/readme.html">RX DMA Calypte</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../readme.html">TX DMA Calypte</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../debug.html">Debug Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../ver.html">UVM Verification</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../../../index.html">Minimal NDK Application Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../../../../pcie.html">PCIe Tools</a></li>
          <li class="breadcrumb-item"><a href="../../../../readme.html">DMA Calypte</a></li>
          <li class="breadcrumb-item"><a href="../../readme.html">TX DMA Calypte</a></li>
      <li class="breadcrumb-item active">Channel Core</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../../../../_sources/ofm_doc/comp/dma/dma_calypte/comp/tx/comp/channel_core/readme.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="channel-core">
<span id="tx-dma-channel-core"></span><h1>Channel Core<a class="headerlink" href="#channel-core" title="Permalink to this heading"></a></h1>
<dl class="vhdl autoentity">
<dt class="sig sig-object vhdl" id="vhdl-entity-tx_dma_channel_core">
<span class="k"><span class="pre">ENTITY</span> </span><span class="sig-name descname"><span class="pre">TX_DMA_CHANNEL_CORE</span></span><span class="k"> <span class="pre">IS</span></span><a class="headerlink" href="#vhdl-entity-tx_dma_channel_core" title="Permalink to this definition"></a></dt>
<dd><p>The component provides the core functionality of the TX DMA Calypte controller.
It accepts PCIe transactions on the input and outputs DMA frames on the output.
The output frame can consist of one or more PCIe transactions which are binded
together in the internal components. Each set of transactions (which make a
whole packet) is delimited by the DMA header sent in a separate PCIe
transaction. The block scheme of the <cite>CHANNEL_CORE</cite> component is provided in the
following figure:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../../../../../../../_images/tx_calypte_block-chan_core_block.svg"><img alt="../../../../../../../../_images/tx_calypte_block-chan_core_block.svg" height="2753" src="../../../../../../../../_images/tx_calypte_block-chan_core_block.svg" width="6816" /></a>
</figure>
<span class="sig-name descname">Generics</span><table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Generic</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even" id="vhdl-gengeneric-tx_dma_channel_core-device"><td><p>DEVICE</p></td>
<td><p>string</p></td>
<td><p>“ULTRASCALE”</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>=====</p></td>
<td><p>Input PCIe interface parameters</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-tx_dma_channel_core-pcie_mfb_regions"><td><p>PCIE_MFB_REGIONS</p></td>
<td><p>natural</p></td>
<td><p>1</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-tx_dma_channel_core-pcie_mfb_region_size"><td><p>PCIE_MFB_REGION_SIZE</p></td>
<td><p>natural</p></td>
<td><p>1</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-tx_dma_channel_core-pcie_mfb_block_size"><td><p>PCIE_MFB_BLOCK_SIZE</p></td>
<td><p>natural</p></td>
<td><p>8</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-tx_dma_channel_core-pcie_mfb_item_width"><td><p>PCIE_MFB_ITEM_WIDTH</p></td>
<td><p>natural</p></td>
<td><p>32</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>Output (user logic) interface</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-tx_dma_channel_core-usr_mfb_regions"><td><p>USR_MFB_REGIONS</p></td>
<td><p>natural</p></td>
<td><p>1</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-tx_dma_channel_core-usr_mfb_region_size"><td><p>USR_MFB_REGION_SIZE</p></td>
<td><p>natural</p></td>
<td><p>4</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-tx_dma_channel_core-usr_mfb_block_size"><td><p>USR_MFB_BLOCK_SIZE</p></td>
<td><p>natural</p></td>
<td><p>8</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-tx_dma_channel_core-usr_mfb_item_width"><td><p>USR_MFB_ITEM_WIDTH</p></td>
<td><p>natural</p></td>
<td><p>8</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>=====</p></td>
<td><p>Others</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-tx_dma_channel_core-hdr_meta_width"><td><p>HDR_META_WIDTH</p></td>
<td><p>natural</p></td>
<td><p>24</p></td>
<td><p>Width of the metadata in bits that are contained in the DMA header</p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-tx_dma_channel_core-pkt_size_max"><td><p>PKT_SIZE_MAX</p></td>
<td><p>natural</p></td>
<td><p>2**16 - 1</p></td>
<td><p>Largest packet (in bytes) which can come out of USR_MFB interface</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-tx_dma_channel_core-ram_type"><td><p>RAM_TYPE</p></td>
<td><p>string</p></td>
<td><p>“AUTO”</p></td>
<td><p>Choosen type of RAM used in the internal FIFO, for more information on available types, refer
to the <a class="reference internal" href="../../../../../../base/fifo/fifox/readme.html#vhdl-enum-fifox_ram_type"><code class="xref vhdl vhdl-type docutils literal notranslate"><span class="pre">FIFOX_RAM_TYPE</span></code></a></p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-tx_dma_channel_core-fifo_depth"><td><p>FIFO_DEPTH</p></td>
<td><p>natural</p></td>
<td><p>512</p></td>
<td><p>Number of data words that can be stored in internal FIFO</p></td>
</tr>
</tbody>
</table>
<span class="sig-name descname">Ports</span><table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Port</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Mode</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even" id="vhdl-portsignal-tx_dma_channel_core-clk"><td><p>CLK</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-reset"><td><p>RESET</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>Input PCIe MFB interface</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-pcie_mfb_meta_seg_size"><td><p>PCIE_MFB_META_SEG_SIZE</p></td>
<td><p>std_logic_vector(13 -1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>number of valid DWs in the current PCIe transaction, NOT a whole packet</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_channel_core-pcie_mfb_meta_is_dma_hdr"><td><p>PCIE_MFB_META_IS_DMA_HDR</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td><p>One-bit information if current transaction contains the DMA header</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-pcie_mfb_data"><td><p>PCIE_MFB_DATA</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS*PCIE_MFB_REGION_SIZE*PCIE_MFB_BLOCK_SIZE*PCIE_MFB_ITEM_WIDTH-1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_channel_core-pcie_mfb_sof"><td><p>PCIE_MFB_SOF</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS -1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-pcie_mfb_eof"><td><p>PCIE_MFB_EOF</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS -1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_channel_core-pcie_mfb_sof_pos"><td><p>PCIE_MFB_SOF_POS</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS*max(1, log2(PCIE_MFB_REGION_SIZE)) -1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-pcie_mfb_eof_pos"><td><p>PCIE_MFB_EOF_POS</p></td>
<td><p>std_logic_vector(PCIE_MFB_REGIONS*max(1, log2(PCIE_MFB_REGION_SIZE*PCIE_MFB_BLOCK_SIZE)) -1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_channel_core-pcie_mfb_src_rdy"><td><p>PCIE_MFB_SRC_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-pcie_mfb_dst_rdy"><td><p>PCIE_MFB_DST_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>Output MFB interface</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-usr_mfb_meta_pkt_size"><td><p>USR_MFB_META_PKT_SIZE</p></td>
<td><p>std_logic_vector(log2(PKT_SIZE_MAX + 1) -1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>Length of the output packet in bytes</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_channel_core-usr_mfb_meta_hdr_meta"><td><p>USR_MFB_META_HDR_META</p></td>
<td><p>std_logic_vector(HDR_META_WIDTH -1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>Metadata information from the DMA header</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-usr_mfb_data"><td><p>USR_MFB_DATA</p></td>
<td><p>std_logic_vector(USR_MFB_REGIONS*USR_MFB_REGION_SIZE*USR_MFB_BLOCK_SIZE*USR_MFB_ITEM_WIDTH-1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_channel_core-usr_mfb_sof"><td><p>USR_MFB_SOF</p></td>
<td><p>std_logic_vector(USR_MFB_REGIONS -1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-usr_mfb_eof"><td><p>USR_MFB_EOF</p></td>
<td><p>std_logic_vector(USR_MFB_REGIONS -1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_channel_core-usr_mfb_sof_pos"><td><p>USR_MFB_SOF_POS</p></td>
<td><p>std_logic_vector(USR_MFB_REGIONS*max(1, log2(USR_MFB_REGION_SIZE)) -1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-usr_mfb_eof_pos"><td><p>USR_MFB_EOF_POS</p></td>
<td><p>std_logic_vector(USR_MFB_REGIONS*max(1, log2(USR_MFB_REGION_SIZE*USR_MFB_BLOCK_SIZE)) -1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_channel_core-usr_mfb_src_rdy"><td><p>USR_MFB_SRC_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-usr_mfb_dst_rdy"><td><p>USR_MFB_DST_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>Start/stop interface from the TX_DMA_SW_MANAGER</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-start_req_vld"><td><p>START_REQ_VLD</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_channel_core-start_req_ack"><td><p>START_REQ_ACK</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-stop_req_vld"><td><p>STOP_REQ_VLD</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_channel_core-stop_req_ack"><td><p>STOP_REQ_ACK</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>=====</p></td>
<td><p>Status information about taken capacity of internal FIFOs</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_channel_core-data_fifo_status"><td><p>DATA_FIFO_STATUS</p></td>
<td><p>std_logic_vector(log2(FIFO_DEPTH) downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-hdr_fifo_status"><td><p>HDR_FIFO_STATUS</p></td>
<td><p>std_logic_vector(log2(FIFO_DEPTH) downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>Control signals for packet counters</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-pkt_sent_inc"><td><p>PKT_SENT_INC</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_channel_core-pkt_sent_size"><td><p>PKT_SENT_SIZE</p></td>
<td><p>std_logic_vector(log2(PKT_SIZE_MAX+1) -1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-tx_dma_channel_core-pkt_disc_inc"><td><p>PKT_DISC_INC</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-tx_dma_channel_core-pkt_disc_size"><td><p>PKT_DISC_SIZE</p></td>
<td><p>std_logic_vector(log2(PKT_SIZE_MAX+1) -1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

<section id="behavior-of-the-component">
<h2>Behavior of the component<a class="headerlink" href="#behavior-of-the-component" title="Permalink to this heading"></a></h2>
<p>The <cite>MFB_DROPPER</cite> component on the input is a part of the accepting logic for
the incoming packets. A packet is accepted when channel is in the running state,
that is, enabled by its corresponding MI register. A dropping of an incoming
packet can occur when channel is stopped. In this case, a status information is
provided as a counter of discarded frames which contains the number of
discarded frames in general as well as the overall number of bytes contained
within those frames.</p>
<p>After the input packet is accepted, <cite>MFB_CUTTER</cite> is set in order to cut the PCIe
header from each incoming PCIe transaction. The payload of the transaction
is then shifted to the original SOF position, the EOF of a current transaction
is lowered by the length of a PCIe header.</p>
<p>When a transaction contains only usefull data, the alignment is performed in the
<cite>ALIGN_CTL</cite> and <cite>MFB_DATA_ALIGNER</cite> blocks. The alignment shifts the transactions
in sucha a way, in which they can be binded together to make a one continuous
DMA frame. This binding is then done in the <cite>PKT_BUILD</cite> FSM. The payload of a
frame is stored in the <cite>MFB_DATA_FIFO</cite> storage.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The data FIFO needs to fit at least one frame of a length set to
<cite>PKT_SIZE_MAX</cite>.</p>
</div>
<p>Each set of transactions, that is the frame, is delimited by the DMA header.
When DMA header is captured on the input, the data from it are deparsed to the
<cite>MVB_HDR_FIFO</cite> storage. After this two FIFOs indicate valid data on its outputs,
the packet is then passed to the output interface which is controlled by
<cite>PKT_DISPATCH</cite> FSM. A status information about the successfully sent packet is
provided via the counter of frames as well as data bytes being sent in them.</p>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Specific subcomponents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="comp/mfb_data_aligner/readme.html">MFB Data Aligner</a></li>
</ul>
</div>
</section>
<section id="general-subcomponents">
<h2>General subcomponents<a class="headerlink" href="#general-subcomponents" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../../../../../../mfb_tools/flow/dropper/readme.html#mfb-dropper"><span class="std std-ref">MFB Dropper</span></a></p></li>
<li><p><a class="reference internal" href="../../../../../../mfb_tools/flow/cutter_simple/readme.html#mfb-cutter-simple"><span class="std std-ref">MFB Cutter Simple</span></a></p></li>
<li><p><a class="reference internal" href="../../../../../../base/fifo/fifox/readme.html#fifox"><span class="std std-ref">FIFOX</span></a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../readme.html" class="btn btn-neutral float-left" title="TX DMA Calypte" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="comp/mfb_data_aligner/readme.html" class="btn btn-neutral float-right" title="MFB Data Aligner" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, CESNET z.s.p.o..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
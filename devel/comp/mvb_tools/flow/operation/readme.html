

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MVB Operation &mdash; NDK-FPGA Docs  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme_overrides.css?v=b530091d" />

  
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="MVB Merge Streams Ordered" href="../merge_streams_ordered/readme.html" />
    <link rel="prev" title="MVB Shakedown" href="../shakedown/readme.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            NDK-FPGA Docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Application:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../app-minimal.html">Minimal NDK application</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Development Kit:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/how_to_start.html">How to start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/terminology.html">NDK Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/readme.html">NDK Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/configuration.html">Configuration files and parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/testing.html">NDK testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_build/readme.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/devtree.html">Device Tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/faq.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supported cards:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/reflexces/agi-fh400g/readme.html">ReflexCES XpressSX AGI-FH400G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/intel/dk-dev-1sdx-p/readme.html">Intel Stratix 10 DX FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/intel/dk-dev-agi027res/readme.html">Intel Agilex I-Series FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/silicom/fb4cgg3/readme.html">Silicom fb4CGg3&#64;VU9P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/silicom/fb2cghh/readme.html">Silicom fb2CGhh&#64;KU15P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/silicom/n6010/readme.html">Silicom N6010</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/bittware/ia-420f/readme.html">Bittware IA-420F</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/amd/alveo-u200/readme.html">AMD Alveo U200</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/amd/alveo-u55c/readme.html">AMD Alveo U55C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/amd/vcu118/readme.html">AMD VCU118&#64;VU9P</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/prodesign/pd-falcon/readme.html">PRO DESIGN Falcon</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VHDL components:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../base.html">Basic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ctrls.html">Controllers &amp; TSU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mi.html">MI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mfb.html">MFB Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../mvb.html">MVB Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../readme.html">MVB Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../channel_router/readme.html">MVB Channel Router</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discard/readme.html">MVB DISCARD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../item_collision_resolver/readme.html">MVB Item Collision Resolver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../merge_items/readme.html">MVB Merge Items</a></li>
<li class="toctree-l2"><a class="reference internal" href="../merge_streams/readme.html">MVB Merge Streams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demux/readme.html">MVB DEMUX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mux/readme.html">MVB MUX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../merge_n_to_m/readme.html">SHAKEDOWN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../merge_n_to_m/readme.html#merge-n-to-m">MERGE_N_TO_M</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shakedown/readme.html">MVB Shakedown</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">MVB Operation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../merge_streams_ordered/readme.html">MVB Merge Streams Ordered</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mvb2mfb/readme.html">MVB2MFB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../storage/lookup_table/readme.html">MVB Lookup Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../storage/fifox/readme.html">MVB FIFOX</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nic.html">Network Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pcie.html">PCIe Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../debug.html">Debug Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ver.html">UVM Verification</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">NDK-FPGA Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../mvb.html">MVB Tools</a></li>
      <li class="breadcrumb-item active">MVB Operation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/comp/mvb_tools/flow/operation/readme.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mvb-operation">
<span id="id1"></span><h1>MVB Operation<a class="headerlink" href="#mvb-operation" title="Link to this heading"></a></h1>
<dl class="vhdl autoentity">
<dt class="sig sig-object vhdl" id="vhdl-entity-mvb_operation">
<span class="k"><span class="pre">ENTITY</span> </span><span class="sig-name descname"><span class="pre">MVB_OPERATION</span></span><span class="k"> <span class="pre">IS</span></span><a class="headerlink" href="#vhdl-entity-mvb_operation" title="Link to this definition"></a></dt>
<dd><p>This component enables optional transaction forking and response
receiving based on <code class="xref vhdl vhdl-portsignal docutils literal notranslate"><span class="pre">RX_OP_EN</span></code>. Optionally forked data are sent
to <strong>TX Operation Interface</strong> and responses are received from <strong>RX Operation Interface</strong>.
<code class="xref vhdl vhdl-portsignal docutils literal notranslate"><span class="pre">RX_OP_VLD</span></code> vector must be same as operation received from
<code class="xref vhdl vhdl-portsignal docutils literal notranslate"><span class="pre">TX_OP_VLD</span></code> (no shakedown behaviour must be present in operation unit)
and responses must not be reordered.
When shakedown behaviour of OP unit is required, one can put SHAKEDOWN before <strong>RX Interface</strong>.</p>
<p>Both received data and responses are then transmitted on <strong>TX Interface</strong>.</p>
<p>No reordering of transactions is happening in this component. This means, when one
item requires operation to be executed, whole word will be blocked and waiting for
response. When no item requires execution, the word will leave the component asap.
without waiting for response.</p>
<dl>
<dt>Entity architecture.</dt><dd><img alt="../../../../_images/mvb_operation.svg" src="../../../../_images/mvb_operation.svg" />
</dd>
</dl>
<span class="sig-name descname">Generics</span><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Generic</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even" id="vhdl-gengeneric-mvb_operation-mvb_items"><td><p>MVB_ITEMS</p></td>
<td><p>natural</p></td>
<td><p>1</p></td>
<td><p>Number of MVB items in word</p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-mvb_operation-item_width"><td><p>ITEM_WIDTH</p></td>
<td><p>natural</p></td>
<td><p>64</p></td>
<td><p>One MVB item width</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-mvb_operation-consume_item_width"><td><p>CONSUME_ITEM_WIDTH</p></td>
<td><p>natural</p></td>
<td><p>0</p></td>
<td><p>Width of consumable item. When one needs to transmit some data to TX_OP interface
and they are not needed later, some resources in latency FIFO will be saved by sending</p>
<blockquote>
<div><p>it as consumable item.</p>
</div></blockquote>
</td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-mvb_operation-rsp_item_width"><td><p>RSP_ITEM_WIDTH</p></td>
<td><p>natural</p></td>
<td><p>24</p></td>
<td><p>Operation response MVB item width</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-mvb_operation-latency_fifo_en"><td><p>LATENCY_FIFO_EN</p></td>
<td><p>boolean</p></td>
<td><p>false</p></td>
<td><p>When set to true, FIFOX will be instantiated to cover
latency of operation</p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-mvb_operation-latency_fifo_depth"><td><p>LATENCY_FIFO_DEPTH</p></td>
<td><p>natural</p></td>
<td><p>16</p></td>
<td><p>Latency FIFO depth, set to, or greater than latency of operation
(eg. when operation is reading from BRAM with output register, set it to &gt; 1)</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-mvb_operation-latency_fifo_ram_type"><td><p>LATENCY_FIFO_RAM_TYPE</p></td>
<td><p>string</p></td>
<td><p>“AUTO”</p></td>
<td><p>Latency FIFO ram type. Options:</p>
<ul class="simple">
<li><p>“LUT”   - effective when ITEMS &lt;= 64 (on Intel FPGA &lt;= 32)</p></li>
<li><p>“BRAM”  - effective when ITEMS  &gt; 64 (on Intel FPGA  &gt; 32)</p></li>
<li><p>“URAM”  - effective when ITEMS*FIFO_WIDTH &gt;= 288000
and FIFO_WIDTH &gt;= 72 (URAM is only for Xilinx Ultrascale(+))</p></li>
<li><p>“SHIFT” - effective when ITEMS &lt;= 16</p></li>
<li><p>“AUTO”  - effective implementation dependent on ITEMS and DEVICE</p></li>
</ul>
</td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-mvb_operation-rx_op_pipe_en"><td><p>RX_OP_PIPE_EN</p></td>
<td><p>boolean</p></td>
<td><p>true</p></td>
<td><p>Enables pipe on RX_OP_RESPONSE interface</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-mvb_operation-device"><td><p>DEVICE</p></td>
<td><p>string</p></td>
<td><p>“AGILEX”</p></td>
<td><p>Defines what architecture is FIFO implemented on Options:</p>
<ul class="simple">
<li><p>“ULTRASCALE” (Xilinx)</p></li>
<li><p>“7SERIES”    (Xilinx)</p></li>
<li><p>“ARRIA10”    (Intel)</p></li>
<li><p>“STRATIX10”  (Intel)</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<span class="sig-name descname">Ports</span><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Mode</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even" id="vhdl-portsignal-mvb_operation-clk"><td><p>CLK</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mvb_operation-reset"><td><p>RESET</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>RX Interface</p></td>
<td><p>=====</p></td>
<td><p>Standard MVB interface</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mvb_operation-rx_data"><td><p>RX_DATA</p></td>
<td><p>std_logic_vector(MVB_ITEMS * ITEM_WIDTH - 1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mvb_operation-rx_data_consume"><td><p>RX_DATA_CONSUME</p></td>
<td><p>std_logic_vector(MVB_ITEMS * CONSUME_ITEM_WIDTH - 1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>Data which will be consumed by operation. They are not transmitted to TX interface</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mvb_operation-rx_op_en"><td><p>RX_OP_EN</p></td>
<td><p>std_logic_vector(MVB_ITEMS - 1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>Operation enable for each MVB item</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mvb_operation-rx_vld"><td><p>RX_VLD</p></td>
<td><p>std_logic_vector(MVB_ITEMS - 1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mvb_operation-rx_src_rdy"><td><p>RX_SRC_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mvb_operation-rx_dst_rdy"><td><p>RX_DST_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>=====</p></td>
<td><p>TX Operation Interface</p></td>
<td><p>=====</p></td>
<td><p>Interface to unit executing the operation.</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mvb_operation-tx_op_data"><td><p>TX_OP_DATA</p></td>
<td><p>std_logic_vector(MVB_ITEMS * ITEM_WIDTH - 1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mvb_operation-tx_op_data_consume"><td><p>TX_OP_DATA_CONSUME</p></td>
<td><p>std_logic_vector(MVB_ITEMS * CONSUME_ITEM_WIDTH - 1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mvb_operation-tx_op_vld"><td><p>TX_OP_VLD</p></td>
<td><p>std_logic_vector(MVB_ITEMS - 1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mvb_operation-tx_op_src_rdy"><td><p>TX_OP_SRC_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mvb_operation-tx_op_dst_rdy"><td><p>TX_OP_DST_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>=====</p></td>
<td><p>RX Operation Interface</p></td>
<td><p>=====</p></td>
<td><p>Interface for receiving responses from operation unit.</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mvb_operation-rx_op_response"><td><p>RX_OP_RESPONSE</p></td>
<td><p>std_logic_vector(MVB_ITEMS * RSP_ITEM_WIDTH - 1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mvb_operation-rx_op_vld"><td><p>RX_OP_VLD</p></td>
<td><p>std_logic_vector(MVB_ITEMS - 1 downto 0)</p></td>
<td><p>in</p></td>
<td><p>Valid vector must exacly same as received from TX Operation Interface.</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mvb_operation-rx_op_src_rdy"><td><p>RX_OP_SRC_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mvb_operation-rx_op_dst_rdy"><td><p>RX_OP_DST_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>=====</p></td>
<td><p>TX Interface</p></td>
<td><p>=====</p></td>
<td><p>Interface with previously received data and responses.</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mvb_operation-tx_data"><td><p>TX_DATA</p></td>
<td><p>std_logic_vector(MVB_ITEMS * ITEM_WIDTH - 1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>Data received from <em>RX Interface</em></p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mvb_operation-tx_response"><td><p>TX_RESPONSE</p></td>
<td><p>std_logic_vector(MVB_ITEMS * RSP_ITEM_WIDTH - 1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>Responses from operation unit</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mvb_operation-tx_response_vld"><td><p>TX_RESPONSE_VLD</p></td>
<td><p>std_logic_vector(MVB_ITEMS - 1 downto 0)</p></td>
<td><p>out</p></td>
<td><p>Response valid, eg. operation was executed on i-th item. This vector is same as
received <code class="xref vhdl vhdl-portsignal docutils literal notranslate"><span class="pre">RX_OP_EN</span></code>.</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mvb_operation-tx_vld"><td><p>TX_VLD</p></td>
<td><p>std_logic_vector(MVB_ITEMS - 1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mvb_operation-tx_src_rdy"><td><p>TX_SRC_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mvb_operation-tx_dst_rdy"><td><p>TX_DST_RDY</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../shakedown/readme.html" class="btn btn-neutral float-left" title="MVB Shakedown" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../merge_streams_ordered/readme.html" class="btn btn-neutral float-right" title="MVB Merge Streams Ordered" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, CESNET z.s.p.o..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>